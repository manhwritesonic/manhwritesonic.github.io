"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3776],{7383:function(e,t,n){var a=n(85893),s=n(94789),r=n(58057),l=n(86353),i=n(25675),o=n.n(i),c=n(72478),u=function(e){var t=e.value,n=e.displayName,i=e.displayIcon,u=e.displayImage,d=e.disabled,f=e.tooltip;return(0,a.jsx)(s.h.Option,{value:t,disabled:null!=d&&d,className:function(e){var t=e.active;return(0,c.Z)("relative cursor-default select-none py-2 pl-3 pr-9",t?"bg-indigo-500 text-white":"text-gray-900")},children:function(e){var t=e.active,s=e.selected;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{message:f,position:"right",children:(0,a.jsxs)("div",{className:"flex items-center",children:[i&&(0,a.jsx)("span",{className:"fi fi-".concat(i," text-xs")}),u&&(0,a.jsx)(o(),{alt:n,src:u,height:20,width:20}),(0,a.jsx)("span",{className:(0,c.Z)("ml-3 truncate text-xs",s?"font-semibold":"font-normal"),children:n})]})}),s&&(0,a.jsx)("span",{className:(0,c.Z)("absolute inset-y-0 right-0 flex items-center pr-4",t?"text-white":"text-indigo-600"),children:(0,a.jsx)(r.Z,{className:"h-5 w-5","aria-hidden":"true"})})]})}},t)};t.Z=u},25998:function(e,t,n){var a=n(47568),s=n(70655),r=n(85893),l=n(94789),i=n(11355),o=n(64487),c=n(21059),u=n(67294),d=n(2664),f=n(19557),p=n(72478),m=n(95426),h=n(18558),x=n(7383),v=n(29534),g=function(e){var t,n=e.languages,g=e.value,y=e.onChange,w=e.label,j=e.labelClassName,b=void 0===j?"":j,N=e.disabled,Z=e.inputClassName,k=void 0===Z?"":Z,_=(0,d.I0)(),E=(0,u.useState)(""),C=E[0],L=E[1];(0,u.useEffect)(function(){if(!n){var e=setTimeout((0,a.Z)(function(){var e;return(0,s.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,c.Vb)()];case 1:return _.apply(void 0,[f.cC.apply(void 0,[t.sent()])]),[3,3];case 2:return e=t.sent(),(0,o.Tb)(e),[3,3];case 3:return[2]}})}),100);return function(){clearTimeout(e)}}},[_,n]);var T=""===C?null!=n?n:[]:null!==(t=null==n?void 0:n.filter(function(e){return e.label.toLowerCase().includes(C.toLowerCase())}))&&void 0!==t?t:[];return(0,r.jsx)(l.h,{as:"div",value:g,onChange:function(e){y&&y(e)},disabled:N,className:"relative",children:function(e){var t,a,s=e.open;return(0,r.jsxs)(r.Fragment,{children:[w&&(0,r.jsx)(l.h.Label,{className:(0,p.Z)("block",b),children:w}),(0,r.jsxs)("div",{className:"relative mt-1",children:[(0,r.jsx)(h.Z,{onChange:function(e){return L(e.target.value)},displayValue:function(e){var t;return null!==(a=null===(t=null==n?void 0:n.find(function(t){return t.value===e}))||void 0===t?void 0:t.label)&&void 0!==a?a:""},className:(0,p.Z)("pl-10",k)}),(0,r.jsx)(l.h.Button,{className:"absolute inset-y-0 left-2.5 flex items-center text-xs",children:(0,r.jsx)("span",{className:"fi fi-".concat(null===(t=null==n?void 0:n.find(function(e){return e.value===g}))||void 0===t?void 0:t.icon)})}),(0,r.jsx)(m.Z,{open:s}),(0,r.jsx)(i.u,{as:"div",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:function(){return L("")},children:(null==T?void 0:T.length)>0&&(0,r.jsx)(v.Z,{children:null==T?void 0:T.map(function(e){return(0,r.jsx)(x.Z,{value:e.value,displayName:e.label,displayIcon:e.icon},e.value)})})}),(0,r.jsx)(i.u,{show:!!N,enter:"transition-opacity duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gray-200 bg-opacity-20"})})]})]})}},null==n?void 0:n.length)},y=function(e){var t;return{languages:null==e?void 0:null===(t=e.options)||void 0===t?void 0:t.languages}};t.Z=(0,d.$j)(y)(g)},53776:function(e,t,n){n.d(t,{Z:function(){return et}});var a=n(47568),s=n(26042),r=n(69396),l=n(70655),i=n(85893),o=n(8639),c=n(29607),u=n(66277),d="/bulk-upload",f=function(e){var t=e.file,n=e.params;return new Promise(function(e,a){var s=new FormData;s.append("file",t),(0,u.ZP)({url:"".concat(d,"/upload-file"),method:"post",data:s,params:n}).then(function(t){e(t.data)}).catch(function(e){a(e)}).finally(function(){})})},p=function(e){var t=e.params;return new Promise(function(e,n){(0,u.ZP)({url:"".concat(d,"/files-list"),method:"get",params:t}).then(function(t){e(t.data.data)}).catch(function(e){n(e)}).finally(function(){})})},m=function(e){var t=e.params,n=e.data;return new Promise(function(e,a){(0,u.ZP)({url:"".concat(d,"/acknowledge"),method:"post",data:n,params:t}).then(function(t){e(t.data)}).catch(function(e){a(e)}).finally(function(){})})},h=function(e){var t=e.params;return new Promise(function(e,n){(0,u.ZP)({url:"".concat(d,"/file-by-id"),method:"get",params:t}).then(function(t){e(t.data)}).catch(function(e){n(e)}).finally(function(){})})},x=n(21059),v=n(76696),g=n(67294),y=n(94789),w=n(11355),j=n(72478),b=n(2664),N=n(18558),Z=n(95426),k=n(29534),_=n(7383),E=function(e){var t,n=e.bulkUploadTemplates,a=e.value,s=e.onChange,r=e.label,l=e.labelClassName,o=void 0===l?"":l,c=e.disabled,u=(0,g.useState)(""),d=u[0],f=u[1],p=""===d?null!=n?n:[]:null!==(t=null==n?void 0:n.filter(function(e){return e.text.toLowerCase().includes(d.toLowerCase())}))&&void 0!==t?t:[];return(0,i.jsx)(y.h,{as:"div",value:a,onChange:s,disabled:c,className:"relative",children:function(e){var t,s=e.open;return(0,i.jsxs)(i.Fragment,{children:[r&&(0,i.jsx)(y.h.Label,{className:(0,j.Z)("block",o),children:r}),(0,i.jsxs)("div",{className:"relative mt-1",children:[(0,i.jsx)(N.Z,{onChange:function(e){return f(e.target.value)},displayValue:function(){var e;return null!==(t=null===(e=null==n?void 0:n.find(function(e){return e.value===a}))||void 0===e?void 0:e.text)&&void 0!==t?t:""}}),(0,i.jsx)(Z.Z,{open:s}),(0,i.jsx)(w.u,{as:"div",leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:function(){return f("")},children:(null==p?void 0:p.length)>0&&(0,i.jsx)(k.Z,{children:null==p?void 0:p.map(function(e){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(_.Z,{value:e.value,displayName:e.text},e.value)})})})}),(0,i.jsx)(w.u,{show:!!c,enter:"transition-opacity duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-gray-200 bg-opacity-20"})})]})]})}},null==n?void 0:n.length)},C=function(e){return{bulkUploadTemplates:null==e?void 0:e.bulkUploadTemplates.bulkUploadTemplates}},L=(0,b.$j)(C)(E),T=n(6899),z=n(25998),F=n(41664),I=n.n(F),S=n(11163),P=n(58308),U=n(98730),R=n(19557),D=n(68035),M=n(82383),B=n(98607),A=n(58921),V=n(4668),O=n(36499),H=n(93162),W=n.n(H),q=n(32512),$=function(e){var t=e.children,n=e.selectedContentURL,o=e.selectedTemplate,u=e.selectedEngine,d=e.selectedLanguage,h=e.dropDownTemplatesComponent,x=e.dropDownEngineComponent,y=e.dropDownLanguageComponent,w=(0,b.I0)(),N=(0,c.NT)(),Z=(0,g.useState)(),k=Z[0],_=Z[1],E=(0,g.useRef)(!1),C=(0,S.useRouter)().query,L=C.parentHistoryId,T=C.teamId,z=(0,g.useState)(!1),F=z[0],I=z[1],P=(0,g.useState)(!0),R=P[0],M=P[1],A=(0,g.useState)(!1),H=A[0],$=A[1],G=(0,g.useState)(!1),Q=G[0],X=G[1];(0,g.useEffect)(function(){return E.current=!0,function(){E.current=!1}},[]);var J,K,Y,ee=(0,g.useCallback)(function(e){1===e.length&&_(e[0])},[]),et=(0,g.useCallback)(function(e){var t="";t=1!=e.length?"Please upload a file.":"text/csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel".includes(e[0].file.type)?e[0].file.size/1048576>5?"The maximum allowed file size is 5 MB.":"Please upload a file to start processing.":"Invalid file format.",w((0,U.sc)({status:U.Ez.failed,message:t}))},[w]),en=(0,q.uI)({onDrop:ee,onDropRejected:et,accept:{"text/csv":[".csv"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx",],"application/vnd.ms-excel":[".ms-excel"]},maxFiles:1,maxSize:5242880,disabled:H}),ea=en.getRootProps,es=en.getInputProps,er=en.isDragActive,el=(J=(0,a.Z)(function(){return(0,l.__generator)(this,function(e){try{I(!0),n?(W().saveAs(n,"".concat(null==o?void 0:o.value,".csv")),I(!1)):(w((0,U.sc)({status:U.Ez.warning,message:"Please select a feature."})),I(!1))}catch(t){}finally{E.current&&I(!1)}return[2]})}),function(){return J.apply(this,arguments)}),ei=function(e){if(e.success){_(null);var t=e&&e.data&&e.data.operation_id;t&&eo(t),w((0,U.sc)({status:U.Ez.success,message:e.message}))}else w((0,U.sc)({status:U.Ez.failed,message:e.message}));return null},eo=(K=(0,a.Z)(function(e){var t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:var s;return n.trys.push([0,2,3,4]),X(!0),[4,m({params:{status:"started",team_id:T||null},data:{folder_id:L,operation_id:e}}).then((s=(0,a.Z)(function(e){return(0,l.__generator)(this,function(t){switch(t.label){case 0:return X(!1),ei(e),[4,p({params:{team_id:T||null}})];case 1:return w.apply(void 0,[U.Et.apply(void 0,[t.sent()])]),[4,(0,v.Ai)({teamId:T})];case 2:return w.apply(void 0,[D.av.apply(void 0,[t.sent()])]),[2]}})}),function(e){return s.apply(this,arguments)})).catch(function(e){var t;X(!1),w((0,U.sc)({status:U.Ez.failed,message:(0,B.Z)(e.response?null===(t=e.response)||void 0===t?void 0:t.data:e)}))}).finally(function(){E.current||X(!1)})];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),X(!1),w((0,U.sc)({status:U.Ez.failed,message:(0,B.Z)(t)})),[3,4];case 3:return E.current&&X(!1),[7];case 4:return[2]}})}),function(e){return K.apply(this,arguments)}),ec=(Y=(0,a.Z)(function(){var e,t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(!k)return w((0,U.sc)({status:U.Ez.warning,message:"Please upload a file."})),[2];n.label=1;case 1:if(n.trys.push([1,3,4,5]),!o||!(null==o?void 0:null===(e=o.value)||void 0===e?void 0:e.length))return w((0,U.sc)({status:U.Ez.warning,message:"Please select a feature."})),[2];if(!d)return w((0,U.sc)({status:U.Ez.warning,message:"Please select a language."})),[2];if(!u)return w((0,U.sc)({status:U.Ez.warning,message:"Please select a quality type."})),[2];return $(!0),[4,f({file:k,params:{operation_slug:null==o?void 0:o.value,engine_id:u,language:d,team_id:T||null}}).then(function(e){ei(e)}).catch(function(e){var t;w((0,U.sc)({status:U.Ez.failed,message:(0,B.Z)(e.response?null===(t=e.response)||void 0===t?void 0:t.data:e)}))}).finally(function(){E.current||$(!1)})];case 2:return n.sent(),[3,5];case 3:return t=n.sent(),w((0,U.sc)({status:U.Ez.failed,message:(0,B.Z)(t)})),[3,5];case 4:return E.current&&$(!1),[7];case 5:return[2]}})}),function(){return Y.apply(this,arguments)});return""!=n&&R&&M(!1),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"flex flex-col justify-center items-center pt-3 mobile:p-4 bg-white",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-y-4 w-full md:w-2/3 lg:w-1/2",children:[h,y,x,(0,i.jsx)("div",(0,r.Z)((0,s.Z)({className:(0,j.Z)("mt-1 sm:mt-0",H?"cursor-not-allowed":"cursor-pointer")},ea()),{children:(0,i.jsx)("div",{className:"flex justify-center px-6 py-10 rounded-md\n              ".concat(er?" border-purple-2 border-dotted border-2":" border-gray-5-800 border-dashed border-2"),children:(0,i.jsxs)("div",{className:"space-y-1 text-center",children:[(0,i.jsx)("div",{className:"w-10 h-10 text-gray-500 mx-auto flex flex-col content-center justify-center",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),(0,i.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,i.jsx)("span",{children:N("Upload a file")}),(0,i.jsx)("input",(0,r.Z)((0,s.Z)({},es()),{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",className:"sr-only"})),(0,i.jsx)("p",{className:"pl-1",children:N("or drag and drop")})]}),(0,i.jsxs)("p",{className:"text-xs text-gray-500",children:[(0,i.jsx)("span",{className:"font-bold",children:N("CSV or Excel")}),N(" up to "),5,N("MB in size")]})]})})})),!!k&&(0,i.jsxs)("p",{className:"text-sm",children:[(0,i.jsx)("strong",{children:k.name})," -"," ",Math.round(1e3*k.size/1048576)/1e3," ",N("MB")]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-6 gap-2",children:[(0,i.jsx)(O.I,{className:"col-span-2",onClick:function(){return el()},disabled:F||R,children:N("Download Template")}),(0,i.jsx)(V.Z,{className:" sm:col-span-4",onClick:ec,disabled:H||Q,isLoading:H||Q,children:N("".concat(H?"Validating File...":Q?"Starting Execution":"Upload and Generate"))})]})]}),(0,i.jsx)("div",{className:"w-full mt-5",children:t})]})})},G=n(63067),Q=n(34954),X=n(71722);let J=g.forwardRef(function(e,t){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"}))});var K=function(e){var t,n=e.data,s=e.onSuccess,r=e.teamId,o=(0,b.I0)(),u=(0,S.useRouter)(),d=u.query.parentHistoryId,f=(0,g.useRef)(!1),p=(0,c.NT)(),x=(0,g.useState)(!1),v=x[0],y=x[1],w=(0,g.useState)(!1),N=w[0],Z=w[1],k=function(e,t){e&&(0,H.saveAs)(e,"".concat(Date.now(),"_").concat(t))};(0,g.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]);var _,E,C,L=(t=(0,a.Z)(function(e){return(0,l.__generator)(this,function(t){switch(t.label){case 0:if(!e.success)return[3,2];return s(!0),o((0,U.sc)({status:U.Ez.success,message:e.message})),[4,o((0,U.Et)(n))];case 1:t.sent(),t.label=2;case 2:return[2,null]}})}),function(e){return t.apply(this,arguments)}),T=(_=(0,a.Z)(function(e){var t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),y(!0),[4,m({params:{status:"started",team_id:r||null},data:{folder_id:d,operation_id:e}}).then(function(e){y(!1),L(e)}).catch(function(e){y(!1),o((0,U.sc)({status:U.Ez.failed,message:(0,B.Z)(e)}))}).finally(function(){f.current||y(!1)})];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),y(!1),o((0,U.sc)({status:U.Ez.failed,message:(0,B.Z)(t)})),[3,4];case 3:return f.current&&y(!1),[7];case 4:return[2]}})}),function(e){return _.apply(this,arguments)}),z=(E=(0,a.Z)(function(e){return(0,l.__generator)(this,function(t){return e.success&&(s(!0),o((0,U.sc)({status:U.Ez.success,message:e.message}))),[2,null]})}),function(e){return E.apply(this,arguments)}),F=(C=(0,a.Z)(function(e){var t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),Z(!0),[4,h({params:{id:e,team_id:r||null}}).then(function(e){Z(!1),z(e)}).catch(function(e){Z(!1),o((0,U.sc)({status:U.Ez.failed,message:(0,B.Z)(e)}))}).finally(function(){f.current||Z(!1)})];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),Z(!1),o((0,U.sc)({status:U.Ez.failed,message:(0,B.Z)(t)})),[3,4];case 3:return f.current&&Z(!1),[7];case 4:return[2]}})}),function(e){return C.apply(this,arguments)});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"flex relative flex-col",children:(0,i.jsx)("div",{className:"py-2 align-middle sm:px-6 lg:px-8 w-full",children:(0,i.jsx)("div",{className:"shadow overflow-x-auto overflow-y-hidden border-b border-gray-200 rounded-lg",children:(0,i.jsxs)("table",{className:"table-auto divide-y divide-gray-200 w-full overflow-scroll",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:p("File Name")}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:p("Feature")}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:p("Uploaded On")}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:p("Processing Time")}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 tracking-wider",children:p("Status")}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 tracking-wider",children:p("Refresh Status")}),(0,i.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 tracking-wider"})]})}),(0,i.jsx)("tbody",{children:null==n?void 0:n.map(function(e,t){var n=e.status,a=e.url,s=e.original_file_name,r=e.slug,l=e.out_file,o=e.s3_file_name,c=e.id,d=e.uploaded_at,f=e.started_time,p=e.ended_time;return(0,i.jsxs)("tr",{className:(0,j.Z)(t%2==0?"bg-white":"bg-gray-50","hover:bg-indigo-50 cursor-pointer transition-color duration-200 h-14"),children:[(0,i.jsx)("td",{className:"px-4 py-2 text-sm text-blue-500",onClick:function(){return k(a,s)},children:(0,i.jsx)("span",{className:"block hover:text-decoration-underline w-44 truncate overflow-hidden m-2 text-md",children:s})}),(0,i.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:(0,M.c)(r)}),(0,i.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:(0,G.Z)(d+" UTC",u.locale)}),(0,i.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:f&&p&&"completed"===n?(0,Q.Z)(f,p):"- "}),(0,i.jsx)("td",{className:"px-4 py-2 text-sm font-medium",children:(0,i.jsx)("span",{className:(0,j.Z)("pending"===n?"bg-yellow-100 text-yellow-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-yellow-200 dark:text-yellow-900":"started"===n?"bg-indigo-100 text-indigo-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-indigo-200 dark:text-indigo-900":"bg-green-100 text-green-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-green-200 dark:text-green-900"),children:n})}),(0,i.jsx)("td",{className:"px-4 py-2 text-sm font-medium flex-row items-center ",children:(0,i.jsx)("p",{className:"flex flex-row content-center items-center justify-center",children:(0,i.jsx)(X.Z,{className:(0,j.Z)("w-5 h-5 text-gray-500 ".concat(N?"opacity-60 cursor-not-allowed":"hover:text-gray-700 cursor-pointer"," ")),onClick:function(){return F(c)}})})}),(0,i.jsx)("td",{className:"px-4 py-2 text-sm font-medium text-gray-900",children:(0,i.jsxs)("div",{className:"flex justify-center",children:[("pending"===n||"Insufficient-credits"===n)&&(0,i.jsx)(V.Z,{className:"sm:col-span-3 w-30",onClick:function(){return v?{}:("pending"===n||"Insufficient-credits"===n)&&T(c)},disabled:!!v,children:"Start Execution"}),"started"===n&&(0,i.jsx)(V.Z,{className:"sm:col-span-3 w-30",disabled:!0,children:"Processing..."}),"completed"===n&&(0,i.jsx)("button",{className:"sm:col-span-3 w-12 flex justify-center items-center",onClick:function(){return k(l,o)},children:(0,i.jsx)(J,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"})})]})})]},t)})})]})})})})})},Y=n(64487),ee=function(e){var t,n,a,s,r;return{bulkUploadFileList:null!==(r=null===(t=e.main)||void 0===t?void 0:t.bulkUploadFileList)&&void 0!==r?r:[],languages:null==e?void 0:null===(n=e.options)||void 0===n?void 0:n.languages,engines:null==e?void 0:null===(a=e.options)||void 0===a?void 0:a.engines,subscription:e.user.subscription,bulkUploadTemplates:null===(s=e.bulkUploadTemplates)||void 0===s?void 0:s.bulkUploadTemplates}},et=(0,b.$j)(ee)(function(e){var t,n,d,f=e.bulkUploadTemplates,m=e.bulkUploadFileList,h=e.subscription,y=e.languages,w=e.engines,j=(0,b.I0)(),N=(0,S.useRouter)().query.teamId,Z=(0,g.useRef)(!1),k=(0,c.NT)(),_=(0,g.useState)([]),E=_[0],C=_[1],F=(0,g.useState)([]),V=F[0],O=F[1],H=(0,g.useState)([]),W=H[0],q=H[1],G=(0,g.useState)(),Q=G[0],X=G[1],J=(0,g.useState)(),ee=J[0],et=J[1],en=(0,g.useState)(),ea=en[0],es=en[1];(0,g.useEffect)(function(){return Z.current=!0,function(){Z.current=!1}},[]);var er,el=(d=(0,a.Z)(function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:return[4,p({params:{team_id:N}})];case 1:return j.apply(void 0,[U.Et.apply(void 0,[e.sent()])]),[2]}})}),function(){return d.apply(this,arguments)}),ei=(er=(0,a.Z)(function(){return(0,l.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,v.Ai)({teamId:N})];case 1:return j.apply(void 0,[D.av.apply(void 0,[e.sent()])]),[2]}})}),function(){return er.apply(this,arguments)});function eo(){return ec.apply(this,arguments)}function ec(){return(ec=(0,a.Z)(function(){var e;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,el()];case 1:return t.sent(),[3,3];case 2:return e=t.sent(),Y.uT("Bulk Upload Issue: ".concat(e)),j((0,U.sc)({status:U.Ez.failed,message:(0,B.Z)(e)})),[3,3];case 3:return[2]}})})).apply(this,arguments)}function eu(){return(eu=(0,a.Z)(function(){var e;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return[4,new Promise(function(e,t){(0,u.ZP)({url:"".concat("content-type-templates","/templates-list"),method:"get"}).then(function(t){e(t.data)}).catch(function(e){t(e)}).finally(function(){})})];case 1:if(!((e=null==(e=t.sent())?void 0:e.data).length>0))return[3,3];return[4,j((0,P.Ao)(e))];case 2:return t.sent(),[3,4];case 3:Y.uT("Bulk Upload Templates Not Found"),j((0,U.sc)({status:U.Ez.failed,message:"No templates found. please contact support team"})),t.label=4;case 4:return et(""),[2]}})})).apply(this,arguments)}(0,g.useEffect)(function(){if(m.filter(function(e){return"started"===e.status}).length>0){var e=setInterval(function(){el(),ei()},1e4);return function(){clearInterval(e)}}}),(0,g.useEffect)(function(){eo()},[j]),(0,g.useEffect)(function(){(null==f?void 0:f.length)||function(){eu.apply(this,arguments)}(),C(function(){return f.map(function(e){return(0,r.Z)((0,s.Z)({},e),{text:e.text,value:e.value,img:null})})})},[f]),(0,g.useEffect)(function(){y&&q(function(){return y.map(function(e){return{text:e.label,value:e.value,img:null}})})},[y]),(0,g.useEffect)(function(){w&&O(function(){return w.map(function(e){return{text:(0,M.c)(e.name),value:e.id,img:null}})})},[w]),(0,g.useEffect)(function(){var e=V.length&&V.filter(function(e){return e.text.toLowerCase().includes("premium")});e&&e.length>0?es(e[0].value):es(V.length&&V[0].value)},[V]),(0,g.useEffect)(function(){X(W.length&&W[0].value)},[W]),(0,g.useEffect)(function(){et(E.length&&E[0])},[E]),(0,g.useEffect)(function(){function e(){return(e=(0,a.Z)(function(){var e;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,x.Xy)()];case 1:return j.apply(void 0,[R.vi.apply(void 0,[t.sent()])]),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}})})).apply(this,arguments)}w||function(){e.apply(this,arguments)}()},[j,w]),(0,g.useEffect)(function(){function e(){return(e=(0,a.Z)(function(){var e;return(0,l.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,x.Vb)()];case 1:return j.apply(void 0,[R.cC.apply(void 0,[t.sent()])]),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}})})).apply(this,arguments)}y||function(){e.apply(this,arguments)}()},[j,y]);var ed=function(e){Z.current&&e&&eo()},ef=(0,i.jsx)(L,{label:"Content Type",labelClassName:"text-xs font-medium text-gray-7",value:ee&&ee.value,onChange:function(e){return et(E.filter(function(t){return t.value===e})[0])}}),ep=(0,i.jsx)(T.Z,{label:"Quality type",labelClassName:"text-xs font-medium text-gray-7",value:ea,onChange:function(e){return es(e)},disabled:!0}),em=(0,i.jsx)(z.Z,{label:k("Generation Language"),labelClassName:"text-xs font-medium text-gray-7",value:Q,onChange:function(e){return X(e)}});return(0,i.jsx)(i.Fragment,{children:h&&(null==h?void 0:null===(t=h.subscription_product)||void 0===t?void 0:t.title.toLowerCase())==="long-form"?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)($,{selectedContentURL:null!==(n=null==ee?void 0:ee.templateUrl)&&void 0!==n?n:"",selectedTemplate:ee,selectedEngine:ea,selectedLanguage:Q,dropDownTemplatesComponent:ef,dropDownEngineComponent:ep,dropDownLanguageComponent:em,children:(0,i.jsx)(K,{data:m,onSuccess:ed,teamId:N?N.toString():""})})}):(0,i.jsx)("div",{className:"pt-5",children:(0,i.jsxs)(A.Z,{children:[k("Please upgrade your plan to Long-Form to use bulk-processing."),(0,i.jsx)(I(),{href:"/settings/billing",shallow:!0,children:(0,i.jsxs)("a",{className:"underline flex justify-center items-center font-bold",children:[(0,i.jsx)("span",{children:k("Upgrade Now")}),(0,i.jsx)(o.Z,{className:"w-7"})]})})]})})})})},58921:function(e,t,n){var a=n(85893),s=n(89531),r=n(72478),l=function(e){var t=e.children,n=e.redColor,l=void 0!==n&&n;return(0,a.jsxs)("div",{className:"mx-auto rounded-lg w-full px-5 py-3 bg-white flex justify-center items-center space-x-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)(s.Z,{className:(0,r.Z)("w-5 h-5",l?"text-red-400":"text-gray-400"),"aria-hidden":"true"})}),(0,a.jsx)("p",{className:(0,r.Z)("text-md font-medium text-center",l?"text-red-700":"text-gray-700"),children:t})]})};t.Z=l},34954:function(e,t,n){n.d(t,{Z:function(){return a}});function a(e,t){var n,a,s=new Date(e),r=t?new Date(t):new Date,l=(n=s,a=r,Math.abs((n.getTime()-a.getTime())/1e3/60)),i=Math.floor(l/1440),o=Math.floor((l-1440*i)/60),c=l%60;if(0===i&&0===o&&c<1)return"1 minute";c=Math.round(l%60);var u="";return i>0&&o>0&&c>0?"".concat(i," days, ").concat(o," hours, ").concat(c," minutes"):o>0&&c>0&&i<=0?"".concat(o," hours, ").concat(c," minutes"):c>0&&o<=0&&i<=0?"".concat(c," minutes"):i>0&&o>0&&c<=0?"".concat(i," days, ").concat(o," hours"):i>0&&o<=0&&c>0?"".concat(i," days, ").concat(c," minutes"):i>0&&o<=0&&c<=0?"".concat(i," days"):i<=0&&o>0&&c<=0?"".concat(o," hours"):0===i&&0===o&&0===c?"-":"".concat(i," days, ").concat(o," hours, ").concat(c," minutes")}},8639:function(e,t,n){var a=n(67294);let s=a.forwardRef(function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"}))});t.Z=s},89531:function(e,t,n){var a=n(67294);let s=a.forwardRef(function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}))});t.Z=s},71722:function(e,t,n){var a=n(67294);let s=a.forwardRef(function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))});t.Z=s},58057:function(e,t,n){var a=n(67294);let s=a.forwardRef(function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))});t.Z=s}}]);