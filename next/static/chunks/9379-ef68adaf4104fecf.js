"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9379],{6092:function(e,t,n){var s=n(85893),i=n(57937),l=n(67074),r=n(72478),a=(0,l.ZP)(i.ZP)({color:"#E5E7EB",height:3,"& .MuiSlider-track":{border:"none"},"& .MuiSlider-thumb":{height:26,width:40,backgroundImage:"url(/images/icons/slider_thumb.svg)",backgroundPosition:"center",backgroundPositionY:"-7px",backgroundRepeat:"no-repeat",borderRadius:"30px",backgroundColor:"transparent","&.Mui-disabled":{display:"none"},"&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"none"},"&:before":{display:"none"},"&:after":{display:"none"}},"& .MuiSlider-mark":{height:6,width:3,top:"95%"}}),o=function(e){var t=e.colors,n=void 0===t?{startColor:"#00cdfa",middleColor:"#7542ea",endColor:"#f56cdb"}:t,i=e.step,l=e.min,o=e.max,c=e.value,u=e.onChange,d=e.disabled,m=function(e,t,n,s){return e>=.5?p(n,s,(e-.5)*2):p(t,n,2*e)},p=function(e,t,n){var s=h(e[1]+e[2],t[1]+t[2],n),i=h(e[3]+e[4],t[3]+t[4],n),l=h(e[5]+e[6],t[5]+t[6],n);return"#"+s+i+l},h=function(e,t,n){return(Number("0x"+e)*(1-n)+Number("0x"+t)*n|0).toString(16).padStart(2,"0")},f=function(e){var t=e.ownerState,i=e.style;return(0,s.jsx)("div",{className:(0,r.Z)("bg-red-200 h-0.5",(null==t?void 0:t.disabled)?"opacity-30":"opacity-100"),style:{width:"100%",background:"linear-gradient(0.25turn, ".concat(n.startColor,", ").concat(n.middleColor,", ").concat(n.endColor,")")},children:(0,s.jsx)("div",{className:"bg-gray-1 h-full ml-auto",style:{width:"".concat(100-parseFloat(null==i?void 0:i.width),"%")}})})},x=function(e){var t,a=e.className,u=e.style,d=e.ownerState,p=Math.round(l+i*e["data-index"]*100)/100,h=(t=p,m(t/(o-l+i),n.startColor,n.middleColor,n.endColor));return(0,s.jsx)("div",{className:(0,r.Z)(a,"absolute",(null==d?void 0:d.disabled)?"opacity-30":"opacity-100"),style:{left:null==u?void 0:u.left,backgroundColor:p<=(null!=c?c:0)?h:"#E5E7EB"}})};return(0,s.jsx)(a,{valueLabelDisplay:"off",marks:!0,step:i,min:l,max:o,components:{Track:f,Mark:x},value:c,onChange:function(e,t){"number"==typeof t&&u&&u(t)},disabled:void 0!==d&&d})};t.Z=o},59379:function(e,t,n){n.d(t,{Ft:function(){return td},m2:function(){return tm},ll:function(){return tp},ZP:function(){return tv}});var s=n(47568),i=n(26042),l=n(69396),r=n(70655),a=n(85893),o=n(49329),c=n(4436),u=n(21059),d=n(35545),m=n(11355),p=n(59810),h=n(65451),f=n(29607),x=n(76696),v=n(77628),b=n(94184),g=n.n(b),y=n(4668),j=n(25675),w=n.n(j),_=n(11163),N=n(67294),C=n(2664),k=n(98730),I=n(68035),S=n(98607),E=n(36499),F=function(e){var t=e.openModal,n=e.setOpenModal,i=(0,N.useRef)(!1),l=(0,C.I0)(),o=(0,f.NT)(),c=(0,N.useRef)(null),u=(0,N.useState)(!1),d=u[0],b=u[1],j=(0,_.useRouter)(),F=(0,N.useState)(),T=F[0],Z=F[1],P=(0,N.useState)(),M=P[0],L=P[1],q=(0,N.useState)(),R=q[0],D=q[1],A=(0,N.useState)([]),z=A[0],U=A[1],B=j.query,W=(B.projectId,B.historyId,B.teamId);function O(){return(O=(0,s.Z)(function(){var e,t,n,s;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,4,5]),b(!0),t={discovery_source:!0==R?M:null==T?void 0:T.value},[4,(0,x.mV)(t)];case 1:return e.sent(),[4,(0,v.i)({team_id:W})];case 2:return n=e.sent(),l((0,I.JQ)(n)),l((0,k.sc)({status:k.Ez.success,message:"Your response has been submitted successfully."})),l((0,I.EE)(!1)),[3,5];case 3:return s=e.sent(),l((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(s)})),[3,5];case 4:return i.current&&b(!1),[7];case 5:return[2]}})})).apply(this,arguments)}return B.contentType,B.customerId,(0,N.useEffect)(function(){return i.current=!0,function(){i.current=!1}},[]),(0,N.useEffect)(function(){return i.current=!0,function(){i.current=!1}},[]),(0,N.useEffect)(function(){i.current&&U([{value:"google",label:o("Google")},{value:"word_of_mouth",label:o("Word of Mouth")},{value:"facebook",label:o("Facebook")},{value:"instagram",label:o("Instagram")},{value:"blog",label:o("Blog Post")},{value:"events",label:o("Events")},{value:"other",label:o("Other")},])},[]),(0,N.useEffect)(function(){(null==T?void 0:T.value)&&"other"==T.value?D(!0):D(!1)},[null==T?void 0:T.value]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(m.u.Root,{show:t,as:N.Fragment,children:(0,a.jsx)(p.V,{as:"div",static:!0,className:"fixed z-[100] inset-0 overflow-y-auto",initialFocus:c,open:t,onClose:function(){},children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(p.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,a.jsx)("div",{className:"flex justify-between",children:(0,a.jsx)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left",children:(0,a.jsx)(p.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:(0,a.jsxs)("div",{className:"m-auto",children:[(0,a.jsx)(w(),{src:"/images/success.png",alt:"Payment done image",height:"80",width:"80"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-emerald-600",children:o("Payment Successful")})]})})})}),(0,a.jsxs)("p",{className:"text-sm leading-6 text-gray-900",children:["Would you like to answer a simple question for"," ",(0,a.jsxs)("span",{className:"text-black text-lg font-semibold",children:[" ","2000 extra words"," "]})," ","?"]}),(0,a.jsx)("p",{className:"text-lg leading-6 font-semibold my-3 text-gray-900",children:"How did you hear about us?"}),(0,a.jsx)(h.E,{value:T,onChange:Z,children:(0,a.jsx)("div",{className:"bg-white rounded-md -space-y-px",children:null==z?void 0:z.map(function(e,t){return(0,a.jsx)(h.E.Option,{value:e,className:function(e){var n=e.checked;return g()(0===t?"rounded-tl-md rounded-tr-md":"",t===z.length-1?"rounded-bl-md rounded-br-md":"",n?"bg-indigo-50 border-indigo-200 z-10":"border-gray-200","relative border p-4 flex cursor-pointer focus:outline-none")},children:function(t){var n=t.active,s=t.checked;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:g()(s?"bg-purple-1 border-transparent":"bg-white border-gray-300",n?"ring-2  ring-purple-1":"","h-4 w-4 mt-0.5 cursor-pointer rounded-full border flex items-center justify-center"),"aria-hidden":"true",children:(0,a.jsx)("span",{className:"rounded-full bg-white w-1.5 h-1.5"})}),(0,a.jsx)("div",{className:"ml-3 flex flex-col",children:(0,a.jsx)(h.E.Label,{as:"span",className:g()(s?"text-indigo-900":"text-gray-900","block text-sm font-medium"),children:e.label})})]})}},e.value)})})}),R&&(0,a.jsx)("input",{className:" rounded-md p-2 mt-2 w-full ring-1 ring-purple-1 focus:border-indigo-500",value:M,onChange:function(e){return L(e.target.value)}}),(0,a.jsxs)("div",{className:"w-full sm:w-1/2 grid gap-2 grid-cols-2 sm:flex-row-reverse sm:ml-auto mt-5",children:[(0,a.jsx)(E.I,{onClick:function(){l((0,I.EE)(!1)),n(!1)},children:o("Cancel")}),(0,a.jsx)(y.Z,{onClick:function(){return O.apply(this,arguments)},disabled:d,children:o("Submit")})]})]})})]})})})})},T=n(19557),Z=n(72478),P=function(){return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-2xl mobile:text-xl text-white font-bold",children:"100 Ultra Words Equals"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-6 mb-5 space-x-4",children:[(0,a.jsx)(M,{words:200,quality:"Superior"}),(0,a.jsx)(M,{words:400,quality:"Premium"})]}),(0,a.jsx)("p",{className:"text-base mobile:text-lg text-white font-medium",children:"Switch any time between GPT-3.5 and GPT-4 in any paid plan."})]})},M=function(e){var t=e.words,n=e.quality;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-4xl mobile:text-2xl font-bold bg-progress bg-clip-text text-transparent",children:t}),(0,a.jsxs)("p",{className:"text-lg mobile:text-lg text-white font-bold",children:[n," Quality words"]})]})},L=n(6512),q=n(13342),R=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl py-4 px-4 sm:py-8 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl divide-y-2 divide-gray-200",children:[(0,a.jsx)("h2",{className:"text-center text-2xl font-bold text-black-3 tracking-tight lg:text-3xl",children:"Frequently Asked Questions"}),(0,a.jsx)("dl",{className:"mt-6 space-y-6 divide-y divide-gray-200",children:[{question:"How do long-form and custom plans differ?",answer:"Users on the Long-form plan can use all current features of Writesonic like ChatSonic, AI Article & Blog Writer, Article Rewriter, Instant Article Writer, Fb ad copy, Instagram caption generator, Sonic Editor, and more.<br><br>However, a custom plan, as the name suggests, allows you to customize the number of words and users. In addition to that, it gives you an invoicing option, provides you a dedicated accounts manager, and you also get access to the training sessions and premium support.<br><br>If you are on the long-form plan and feel the need for additional features as mentioned, you can switch to the custom plan anytime. Simply, reach out to our sales team."},{question:"What are the various pricing options Writesonic offers?",answer:"<ul><li>Free trial: Offers 10,000 free words upon signing up. Then, enjoy 2,500 free words every month.</li><li>Long-form plan (Monthly): Starts from $19/month for 60,000 words that refresh every month.</li><li>Long-form plan (billed annually) - Starts from $12.67/month for 60,000 words that refresh every month.</li><li>Custom plan - If you need more user seats or words, contact our sales team for a customized plan (sales@writesonic.com)</li></ul>"},{question:"How many team members can I add to my account and what is its procedure?",answer:"<strong>Long-form plan:<br></strong>$19/month plan: Only 1 user is allowed <br>$49, $99/month plans: Up to 5 users are allowed <br>$199/month and above: Up to 10 users are allowed <br>$499/month and above: Up to 12 users are allowed <br>$999/month plan: Upto 15 users are allowed <br>$1499/month and above: Up to 20 users are allowed <br><br><strong>Custom plan:<br></strong> Reach out to our sales team."},{question:"I have exhausted my words before the start of the next billing month. How can I get more?",answer:"If your words are exhausted during the month, you can upgrade to the next higher plan and only the pro-rated difference will be charged, based on the remaining days in the billing cycle. If you need fewer words next month, you can again downgrade your plan and be charged accordingly."},{question:"Is there any pay-as-you-go plan?",answer:"No. Currently, there is no pay-as-you-go plan and only monthly and annual plans are available."},{question:"If I subscribe to a monthly plan, will I be charged automatically next month?",answer:"Yes, monthly subscription plans charge you automatically every month until you cancel or pause them."},{question:"What are the payment methods supported by Writesonic? Is it possible to pay through PayPal as well?",answer:"Writesonic currently accepts debit/credit cards as well as PayPal as payment methods. In countries where our users are more concentrated, we plan to gradually add additional payment gateways. Users will be charged in their local currency for these additional payment methods."},{question:"How do the various quality options differ?",answer:"At Writesonic, we understand that every content requirement is unique. That's why we offer three quality options to generate content based on your quantity and quality needs. <br><br> Our Premium quality option runs on GPT-3.5 and our custom-trained models, ensuring top-notch content output. For even higher quality, our Superior quality option runs on GPT-4 and our other custom models. And soon, we're introducing our Ultra quality option, which will run on the powerful GPT-4+ model. <br><br> Premium quality offers 2x more content than Superior quality and 4x more than Ultra quality. So with higher quality of models, quantity will decrease. But higher the model, the higher the quality and length of the outputs generated. <br><br> However, for the best quality content, we recommend using the Superior quality where our largest model trained on billions of parameters run. It understands your context and generates intelligent content and output length is 6000 words at a time against the output length of 3000 words in Premium model. <br><br> Ulta quality permits long and detailed output of up to 24000 words at a time. This makes it perfect for enterprises and large businesses that require summarizing and querying large amounts of input data. <br><br> But if you require faster content generation with reasonably good quality, then the Premium option is ideal for you. <br><br> We recommend our users perform numerous trials with different features and adjust the quality according to their needs. With our variety of quality options, we're confident you'll find the perfect fit for your content generation needs."},{question:"How is the pricing of Writesonic compared with Jasper (Jarvis)?",answer:"Writesonic is much more affordable and provides more value than Jasper (Jarvis). Writesonic’s long-form plan (billed annually) starts at $12.67 per month (offers 60,000 words), while Jasper’s boss mode plan (billed annually) starts at $49 per month (offers 50,000 words). Writesonic offers a 33% discount on annual payments, while Jasper only offers a 17% discount. For generating more content, Writesonic provides the option of switching quality, which allows you to generate up to 10 times more content. <br><br> Accordingly, Writesonic is nearly 4-5 times cheaper than Jasper and has more flexible plans. Additionally, you are not required to input credit card details to try Writesonic, which is required in Jasper."},{question:"How is the pricing of Writesonic compared with Copy.ai?",answer:"Once again, Writesonic is substantially cheaper than Copy AI.<br><br> Writesonic’s long-form plan (billed annually) starts at $12.67 per month. Writesonic also offers a 33% discount on annual payments. <br> Comparatively, offers an initial pro plan for $36 per month (billed annually) and $49 per month (billed monthly). Therefore, it is not within reach of most users. Moreover,  offers 3 months free for an annual plan, while Writesonic offers 4 months free for an annual plan. <br><br> Comparatively, offers an initial pro plan for $36 per month (billed annually) and $49 per month (billed monthly). Therefore, it is not within reach of most users. Moreover,  offers 3 months free for an annual plan, while Writesonic offers 4 months free for an annual plan."},].map(function(e){return(0,a.jsx)(L.p,{as:"div",className:"pt-6",children:function(t){var n=t.open;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("dt",{className:"text-lg",children:(0,a.jsxs)(L.p.Button,{className:"flex w-full items-start justify-between text-left text-gray-400",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.question}),(0,a.jsx)("span",{className:"ml-6 flex h-7 items-center",children:(0,a.jsx)(q.Z,{className:(0,Z.Z)(n?"-rotate-180":"rotate-0","h-6 w-6 transform"),"aria-hidden":"true"})})]})}),(0,a.jsx)(L.p.Panel,{as:"dd",className:"mt-2 pr-12",children:(0,a.jsx)("p",{className:"text-base text-gray-500",dangerouslySetInnerHTML:{__html:e.answer}})})]})}},e.question)})})]})})})})},D=n(50596),A=function(e){var t,n;return{subscription:null===(t=e.user)||void 0===t?void 0:t.subscription,email:null===(n=e.user)||void 0===n?void 0:n.email}},z=(0,C.$j)(A)(function(e){var t=e.subscription,n=e.cbPortalInstance,i=e.teamId,l=function(){n.openSection({sectionType:window.Chargebee.getPortalSections().PAYMENT_SOURCES},{close:(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:var t;return n.cbInstance.logout(),[4,(0,c.pI)({teamId:i}).then((t=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return u((0,I.fs)(e)),[4,(0,x.Ai)({teamId:i})];case 1:return u.apply(void 0,[I.av.apply(void 0,[t.sent()])]),[2]}})}),function(e){return t.apply(this,arguments)}))];case 1:return e.sent(),[2]}})})})},o=(0,f.NT)(),u=(0,C.I0)();return t?(0,a.jsx)(a.Fragment,{children:t&&t.default_card&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-[#111827]",children:o("Payment Method")}),(0,a.jsx)("p",{className:"text-base font-normal text-[#6B7280]",children:o("Update your default payment method.")}),(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-between rounded-xl bg-[#F6F6FD] px-4 py-2.5 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(D.Z,{brand:t.default_card.brand}),(0,a.jsxs)("p",{className:"text-medium text-sm text-[#111827] ml-2",children:["•••• •••• ••••"," ",(0,a.jsx)("span",{className:"font-bold",children:t.default_card.last4})]})]}),(0,a.jsx)("button",{className:"text-sm font-bold text-[#6B7280] cursor-pointer hover:text-gray-800",onClick:function(){l()},children:o("Edit")})]})]})}):null}),U=function(e){var t=e.cbPortalInstance,n=e.teamId,i=e.showPaymentSource,l=function(e){var i=e.type;t.openSection({sectionType:"ADDRESS"===i?window.Chargebee.getPortalSections().ADDRESS:"PAYMENT_SOURCES"===i?window.Chargebee.getPortalSections().PAYMENT_SOURCES:window.Chargebee.getPortalSections().BILLING_HISTORY},{close:(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:var i;return t.cbInstance.logout(),[4,(0,c.pI)({teamId:n}).then((i=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return u((0,I.fs)(e)),[4,(0,x.Ai)({teamId:n})];case 1:return u.apply(void 0,[I.av.apply(void 0,[t.sent()])]),[2]}})}),function(e){return i.apply(this,arguments)}))];case 1:return e.sent(),[2]}})})})},o=(0,f.NT)(),u=(0,C.I0)();return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-[#111827]",children:o("Billing Details and Invoices")}),(0,a.jsx)("p",{className:"text-base font-normal text-[#6B7280]",children:o("Update your billing information as well as view and download your invoices.")}),(0,a.jsxs)("div",{className:"mt-6 flex mobile:flex-col items-center gap-4 w-full justify-start",children:[(0,a.jsx)(E.I,{className:g()("text-base mobile:w-full h-[48px] w-[200px] rounded-xl border border-solid border-[#D7D6FE] bg-[white] hover:bg-[#F6F6FD] active:bg-[#E9E9FE] disabled:text-[#B9B5FD] disabled:hover:bg-transparent"),onClick:function(){l({type:"ADDRESS"})},children:o("Edit Billing Details")}),(0,a.jsx)(E.I,{className:g()("text-base mobile:w-full h-[48px] w-[200px] rounded-xl border border-solid border-[#D7D6FE] bg-[white] hover:bg-[#F6F6FD] active:bg-[#E9E9FE] disabled:text-[#B9B5FD] disabled:hover:bg-transparent"),onClick:function(){l({type:"BILLING_HISTORY"})},children:o("View Invoices")}),i&&(0,a.jsx)(E.I,{className:g()("text-base mobile:w-full h-[48px] w-[200px] rounded-xl border border-solid border-[#D7D6FE] bg-[white] hover:bg-[#F6F6FD] active:bg-[#E9E9FE] disabled:text-[#B9B5FD] disabled:hover:bg-transparent"),onClick:function(){l({type:"PAYMENT_SOURCES"})},children:o("Payment Source")})]})]})},B=n(13902),W=n(86377),O=function(e){var t=e.isOpenModal,n=void 0!==t&&t,i=(0,N.useRef)(!1),l=(0,_.useRouter)().query.teamId,o=(0,C.I0)(),u=(0,N.useState)(!1),d=u[0],h=u[1];(0,N.useEffect)(function(){return i.current=!0,function(){i.current=!1}},[]);var f,x=function(e){o((0,W.G0)(e))},v=(f=(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),h(!0),[4,(0,c.hT)({session_type:"change_card",team_id:l,return_path:c._7.billing})];case 1:return e=t.sent(),window.location.href=e,[3,4];case 2:return t.sent(),[3,4];case 3:return i.current&&h(!1),[7];case 4:return[2]}})}),function(){return f.apply(this,arguments)});return(0,a.jsx)(m.u.Root,{show:n,as:N.Fragment,children:(0,a.jsx)(p.V,{as:"div",static:!0,className:"fixed z-90 inset-0 overflow-y-auto",open:n,onClose:function(){},onClick:function(e){return e.stopPropagation()},children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)(B.Z,{className:"h-6 w-6 text-blue-700","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,a.jsx)(p.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Change Payment Method"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Are you sure you want to change your payment method?"})})]})]}),(0,a.jsxs)("div",{className:"w-full sm:ml-auto sm:w-1/2 mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[(0,a.jsx)(y.Z,{className:"w-full sm:ml-3",onClick:v,isLoading:d,children:"Yes"}),(0,a.jsx)(E.I,{className:"w-full mt-0 sm:mt-3",onClick:function(){return x(!1)},children:"Cancel"})]})]})})]})})})},$=function(e){var t;return{isOpenModal:null===(t=e.modals)||void 0===t?void 0:t.isOpenConfirmChangeCardModal}},V=(0,C.$j)($)(O),Y=function(e){var t,n,i,l,o,u=e.subscription,d=(0,f.NT)(),m=(0,_.useRouter)(),p=m.query,h=m.pathname,x=p.teamId;return u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-black-3",children:d("Payment Method")}),(0,a.jsx)("p",{className:"text-base font-normal text-gray-6",children:d("Update your default payment method.")}),(0,a.jsxs)("div",{className:"mt-6 flex items-center justify-between rounded-xl bg-purple-3 px-4 py-2.5 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(D.Z,{brand:null!==(l=null==u?void 0:null===(n=u.default_card)||void 0===n?void 0:n.brand)&&void 0!==l?l:""}),(0,a.jsxs)("p",{className:"text-medium text-sm text-black-3 ml-2",children:["•••• •••• ••••"," ",(0,a.jsx)("span",{className:"font-bold",children:null!==(o=null==u?void 0:null===(i=u.default_card)||void 0===i?void 0:i.last4)&&void 0!==o?o:""})]})]}),(0,a.jsx)("div",{className:"text-sm font-bold text-gray-6 cursor-pointer hover:text-gray-800",onClick:(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,c.hT)({session_type:"change_card",team_id:x,return_path:h})];case 1:return e=t.sent(),window.location.href=e,[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})}),children:d("Edit")})]})]}),(0,a.jsx)(V,{})]}):null},H=function(e){var t;return{subscription:null===(t=e.user)||void 0===t?void 0:t.subscription}},G=(0,C.$j)(H)(Y),X=function(){var e=(0,N.useState)(!1),t=e[0],n=e[1],i=(0,N.useState)(!1),l=i[0],o=i[1],u=(0,f.NT)();(0,C.I0)();var d,m,p=(0,_.useRouter)().query.teamId,h=(d=(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),n(!0),[4,(0,c.hT)({session_type:"update_billing_details",team_id:p,return_path:c._7.billing})];case 1:return e=t.sent(),n(!1),window.location.href=e,[3,3];case 2:return t.sent(),n(!1),[3,3];case 3:return[2]}})}),function(){return d.apply(this,arguments)}),x=(m=(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),o(!0),[4,(0,c.hT)({session_type:"view_invoices",team_id:p,return_path:c._7.billing})];case 1:return e=t.sent(),o(!1),window.location.href=e,[3,3];case 2:return t.sent(),o(!1),[3,3];case 3:return[2]}})}),function(){return m.apply(this,arguments)});return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-black-3",children:u("Billing Details and Invoices")}),(0,a.jsx)("p",{className:"text-base font-normal text-gray-6",children:u("Update your billing information as well as view and download your invoices.")}),(0,a.jsxs)("div",{className:"mt-6 flex items-center gap-4 w-full justify-start",children:[(0,a.jsxs)(E.I,{className:"text-base mobile:w-full h-12 w-57 rounded-xl border border-solid border-cyan-2 bg-white hover:bg-purple-3 active:bg-purple-4 disabled:text-cyan-3 disabled:hover:bg-transparent",disabled:t,onClick:h,children:[(0,a.jsx)("span",{className:"mobile:hidden",children:u("Edit Billing Details")}),(0,a.jsx)("span",{className:"hidden mobile:block",children:u("Edit")})]}),(0,a.jsx)(E.I,{className:"text-base mobile:w-full h-12 w-57 rounded-xl border border-solid border-cyan-2 bg-white hover:bg-purple-3 active:bg-purple-4 disabled:text-cyan-3 disabled:hover:bg-transparent",disabled:l,onClick:x,children:u("View Invoices")})]})]})},J=n(54096),Q=n(63067),K=n(27250),ee=function(e){var t=e.className;return(0,a.jsx)("div",{className:"rounded-full w-0.6 h-0.6 bg-gray-2 ml-2 mr-2 ".concat(void 0===t?" ":t)})},et=n(10822),en=n(61782),es=function(e){var t=function(){l(n(e))},n=function(e){return window.matchMedia(e).matches},s=(0,N.useState)(n(e)),i=s[0],l=s[1];return(0,N.useEffect)(function(){var n=window.matchMedia(e);return t(),n.addListener?n.addListener(t):n.addEventListener("change",t),function(){n.removeListener?n.removeListener(t):n.removeEventListener("change",t)}},[e]),i},ei={src:"/_next/static/media/check-noBG.f9aeb3e0.svg",height:20,width:20},el=function(e){var t=e.benefits,n=es("(max-width: 599px)"),s=es("(max-width: 1024px)"),i=(0,N.useState)(!1),l=i[0],r=i[1],o=(0,N.useState)(4),c=o[0],u=o[1],d=(0,f.NT)();(0,N.useEffect)(function(){if(s&&!n)u(3);else if(n){var e;u(null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0)}else u(4)},[n,s,t]);var m=function(){r(function(e){return!e})};return(null==t?void 0:t.length)?(0,a.jsx)("div",{className:"bg-gray-50 flex justify-between flex-nowrap items-center p-3 mobile:px-4 mt-4  mobile:h-auto mobile:py-4 mobile:px-5 rounded-xl",children:(0,a.jsxs)("div",{className:"w-full flex justify-between items-start gap-x-3",children:[(0,a.jsx)("div",{className:(0,Z.Z)("mobile:block flex items-center flex-wrap gap-x-6 gap-y-5",l?"":"flex-nowrap"),children:(l?t:t.slice(0,c)).map(function(e,t){var n=e.is_checked,s=e.text;return n?(0,a.jsxs)("div",{className:"flex items-center mobile:py-1.5",children:[(0,a.jsx)("div",{className:"w-5 h-5 mr-1",children:(0,a.jsx)(w(),{src:ei,alt:"Checked",layout:"fixed"})}),(0,a.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:d(s)})]},t):null})}),(0,a.jsxs)("p",{onClick:m,className:(0,Z.Z)("mobile:hidden hover:text-purple-v2-1 cursor-pointer flex items-center text-sm font-bold select-none",l?"text-purple-v2-1":"text-gray-500"),children:[(0,a.jsx)("span",{children:d("More")}),(0,a.jsx)("span",{children:l?(0,a.jsx)(et.Z,{className:"w-4 h-4 ml-1"}):(0,a.jsx)(en.Z,{className:"w-4 h-4 ml-1"})})]})]})}):null},er={src:"/_next/static/media/checked.6de37d85.svg",height:20,width:20},ea={src:"/_next/static/media/unsubscribe-purple.af0ef254.svg",height:16,width:16},eo=n(10420),ec=n(53854),eu=n(64487),ed=n(65540),em=function(e){var t=e.subscription,n=e.chargebeeCustomerId,i=e.teamId,l=e.dispatch,a=e.cancelSubscription,o=e.pauseSubscription,u=e.onDiscount,d=window;try{d.churnkey.init("show",{subscriptionId:null==t?void 0:t.chargebee_subscription_id,customerId:n,authHash:null==t?void 0:t.auth_hash,appId:"781a7v4fu",mode:"live",record:!0,provider:"chargebee",handleSupportRequest:function(){d.Beacon("prefill",{subject:"[PRIORITY] Need help with subscription",text:"Hey team, I need some help with my subscription."}),d.Beacon("config",{docsEnabled:!1}),(0,ed.Fu)(),d.churnkey.hide()},handlePause:function(e,t){var n=t.pauseDuration;return o(n)},handleCancel:(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return[4,a()];case 1:return e=t.sent(),[2,e]}})}),onDiscount:function(){u()},onCancel:(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,c.gW)({teamId:i})];case 1:return l.apply(void 0,[I.fs.apply(void 0,[e.sent()])]),[2]}})}),onPause:(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,c.gW)({teamId:i})];case 1:return l.apply(void 0,[I.fs.apply(void 0,[e.sent()])]),[2]}})})})}catch(m){(0,eu.Tb)(m)}},ep=n(54900),eh=n(32219),ef=n(68163),ex=function(e){var t=e.openResumeModal,n=e.onResumeSubscription,s=e.isLoading,i=e.setOpenResumeModal,l=e.t;return(0,a.jsx)(m.u,{appear:!0,show:t,as:N.Fragment,children:(0,a.jsxs)(p.V,{as:"div",className:"relative z-[100]",onClose:function(){},children:[(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(p.V.Panel,{className:"transform rounded-2xl bg-white text-left align-middle shadow-xl transition-all w-full sm:w-96",children:[(0,a.jsxs)("div",{className:"flex justify-between px-6 pt-8 pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.V.Title,{as:"h3",className:"text-2xl font-bold leading-6 text-gray-900",children:l("Resume Subscription")}),(0,a.jsx)(p.V.Description,{as:"p",className:"text-sm text-gray-500 mt-4",children:l("Your subscription will be resumed now and applicable charges will be applied.")})]}),(0,a.jsx)("div",{onClick:function(){s||i(!1)},className:"rounded-4xl cursor-pointer",children:(0,a.jsx)(ef.Z,{className:"rounded-4xl w-6 h-6 text-gray-500 hover:text-purple-500 active:text-navy-1"})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mobile:flex-col-reverse px-6 pb-6",children:[(0,a.jsx)(E.I,{className:"mobile:w-full h-12 w-46 rounded-xl ml-auto mt-4 mr-2 mobile:mr-0",onClick:function(){return i(!1)},disabled:s,children:l("Cancel")}),(0,a.jsx)(y.Z,{className:"mobile:w-full h-12 w-46 rounded-xl ml-auto mt-4 ml-2 mobile:ml-0",isLoading:s,onClick:function(){return n()},children:l("Confirm")})]})]})})})})]})})},ev=n(19687),eb=function(e){var t,n,s,i=e.openPauseModal,l=e.onPauseSubscription,r=e.isLoading,o=e.setOpenPauseModal,c=e.t,u=e.setResumeMonth,d=e.resumeMonth,h=e.resumeDate,f=(0,_.useRouter)(),x=(0,C.I0)(),v=(0,N.useState)(""),b=v[0],g=v[1],j=function(){g(""),u(1),o(!1)};(0,N.useEffect)(function(){1>parseInt(d)||parseInt(d)>3?g("Please select month between 1 to 3"):g("")},[d]);var w=function(){1>parseInt(d)||parseInt(d)>3?(g("Please select month between 1 to 3"),x((0,k.sc)({status:k.Ez.failed,message:"Please select month between 1 to 3"}))):(g(""),l())};return(0,a.jsx)(m.u,{appear:!0,show:i,as:N.Fragment,children:(0,a.jsxs)(p.V,{as:"div",className:"relative z-[100]",onClose:function(){},children:[(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(p.V.Panel,{className:"transform rounded-2xl bg-white text-left align-middle shadow-xl transition-all w-full sm:w-96",children:[(0,a.jsxs)("div",{className:"px-6 pt-8 pb-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.V.Title,{as:"h3",className:"text-2xl font-bold leading-6 text-gray-900",children:c("Pause Subscription")}),(0,a.jsx)(p.V.Description,{as:"p",className:"text-sm text-gray-500 mt-4",children:c("Your subscription will be paused immediately and will be resumed automatically. You can pause your subscription for a maximum of 3 months.")})]}),(0,a.jsx)("div",{onClick:function(){r||j()},className:"rounded-4xl cursor-pointer",children:(0,a.jsx)(ef.Z,{className:"rounded-4xl w-6 h-6 text-gray-500 hover:text-purple-500 active:text-navy-1"})})]}),(0,a.jsxs)("div",{className:"pt-5",children:[(0,a.jsx)("label",{htmlFor:"resume-days",className:"block text-sm text-gray-6 pb-2",children:c("How many months would you like to pause for?")}),(0,a.jsx)("div",{className:"flex gap-2",children:[1,2,3].map(function(e,t){return(0,a.jsx)("div",{children:d===e?(0,a.jsx)(y.Z,{className:"w-10 h-10",onClick:function(){return u(e)},children:e}):(0,a.jsx)(E.I,{className:"w-10 h-10",onClick:function(){return u(e)},children:e})},t)})}),(0,a.jsx)("p",{className:"text-sm text-red-400 pt-1",children:b}),(0,a.jsx)("div",{className:"pt-4 text-sm text-gray-500 mobile:justify-center items-center text-navy-1",children:d>=1&&d<=3&&h&&c("Your subscription will resume on: ".concat((0,Q.Z)(null===(n=null===(t=null==h?void 0:h.toJSON())||void 0===t?void 0:t.toString())||void 0===n?void 0:n.replace("Z"," UTC"),null!==(s=f.locale)&&void 0!==s?s:"",!0)))})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mobile:flex-col-reverse px-6 pb-6",children:[(0,a.jsx)(E.I,{className:"mobile:w-full h-12 w-46 rounded-xl ml-auto mt-4 mr-2 mobile:mr-0",onClick:function(){return j()},disabled:r,children:c("Cancel")}),(0,a.jsx)(y.Z,{className:"mobile:w-full h-12 w-46 rounded-xl ml-auto mt-4 ml-2 mobile:ml-0",isLoading:r,onClick:function(){w()},children:c("Pause Now")})]})]})})})})]})})},eg=function(e){var t,n,i,l,u,d,m,p,h,v,b,g,y,j,F,T,Z,P,M,L,q,R,D,A,z,U,B,W,O,$,V,Y,H,G=e.subscription,X=e.currentEngine,et=e.remainCredits,en=e.allProducts,es=e.chargebee_customer_id,ei=function(){var e;return(null==G?void 0:null===(e=G.stripe_subscription_id)||void 0===e?void 0:e.includes(td))||ef?null:(0,a.jsxs)(N.Fragment,{children:[!(null==G?void 0:G.cancel_at_period_end)&&!(null==G?void 0:G.is_canceled)&&!(null==G?void 0:G.pause_collection)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex mobile:block tablet:block gap-2",children:[(0,a.jsx)(E.I,{icon:ea,onClick:function(){em({subscription:G,chargebeeCustomerId:es,teamId:eu.query.teamId,dispatch:eg,cancelSubscription:e3,pauseSubscription:e9,onDiscount:ts})},withBorder:!0,isLoading:eS,className:"border border-[#E9E9FE] bg-[white] hover:bg-[#F6F6FD] active:bg-[#F6F6FD] h-10 py-0 px-3 mobile:w-full mobile:mt-4 rounded-[10px] bg-inherit hover:bg-inherit ",children:ed("Unsubscribe")}),(0,a.jsx)(E.I,{onClick:function(){return eD(!0)},withBorder:!0,isLoading:eS,className:"tablet:mt-2 mobile:mt-2 w-full content-left border border-[#E9E9FE] bg-[white] hover:bg-[#F6F6FD] active:bg-[#F6F6FD] h-10 py-0 px-3 mobile:w-full mobile:mt-4 rounded-[10px] bg-inherit hover:bg-inherit ",children:ed("Pause")})]})}),!!(null==G?void 0:G.pause_collection)&&!(null==G?void 0:G.is_canceled)&&(0,a.jsx)(E.I,{onClick:function(){return eL(!0)},isLoading:eS,children:ed("Resume Now")}),((null==G?void 0:G.cancel_at_period_end)||(null==G?void 0:G.is_canceled))&&(0,a.jsx)(E.I,{onClick:function(){return eZ(!0)},isLoading:eS,children:ed("Reactivate")})]})},eu=(0,_.useRouter)(),ed=(0,f.NT)(),ef=eu.query.teamId,eg=(0,C.I0)(),ey=(0,N.useState)(),ej=ey[0],ew=ey[1],e_=(0,N.useState)(),eN=e_[0],eC=e_[1],ek=(0,N.useRef)(!1),eI=(0,N.useState)(!1),eS=eI[0],eE=eI[1],eF=(0,N.useState)(!1),eT=eF[0],eZ=eF[1],eP=(0,N.useState)(!1),eM=eP[0],eL=eP[1],eq=(0,N.useState)(!1),eR=eq[0],eD=eq[1],eA=(0,N.useState)(!1),ez=eA[0],eU=eA[1],eB=(0,N.useState)([]),eW=eB[0],eO=eB[1],e$=(0,N.useState)(1),eV=e$[0],eY=e$[1],eH=(0,N.useState)(),eG=eH[0],eX=eH[1];(0,N.useEffect)(function(){var e=new Date;e.setDate(e.getDate()+30*eV),eX(function(){return e})},[eV]),(0,N.useEffect)(function(){return ek.current=!0,function(){ek.current=!1}},[]),(0,N.useEffect)(function(){var e,t,n,s;eO(null!==(s=null===(n=null===(e=null==en?void 0:en.find(function(e){var t;return e.interval===(null==G?void 0:null===(t=G.subscription_plan)||void 0===t?void 0:t.interval)}))||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.find(function(e){return e.engine_id===(null==X?void 0:X.id)}))||void 0===n?void 0:n.subscription_products)&&void 0!==s?s:[])},[en,null==X?void 0:X.id,null==G?void 0:null===(t=G.subscription_plan)||void 0===t?void 0:t.interval,]),(0,N.useEffect)(function(){eC(null==eW?void 0:eW.find(function(e){var t;return e.id===(null==G?void 0:null===(t=G.subscription_product)||void 0===t?void 0:t.id)}))},[eW,null==G?void 0:null===(n=G.subscription_product)||void 0===n?void 0:n.id]),(0,N.useEffect)(function(){var e;ew(null==eN?void 0:null===(e=eN.plans)||void 0===e?void 0:e.find(function(e){var t;return e.id===(null==G?void 0:null===(t=G.subscription_plan)||void 0===t?void 0:t.id)}))},[null==G?void 0:null===(i=G.subscription_plan)||void 0===i?void 0:i.id,null==eN?void 0:eN.plans]);var eJ,eQ,eK,e0,e1,e2,e4,e3=(H=(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(e){switch(e.label){case 0:var t;return eE(!0),[4,(0,o.EO)(G.chargebee_subscription_id).then((t=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return eg((0,k.sc)({status:k.Ez.success,message:(0,S.Z)(e)})),[4,(0,c.pI)({teamId:ef}).then(function(e){eg((0,I.fs)(e))})];case 1:return t.sent(),[2,e]}})}),function(e){return t.apply(this,arguments)})).catch(function(e){return eg((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(e.response?e.response.data:e)}))}).finally(function(){eE(!1)})];case 1:return[2,e.sent()]}})}),function(){return H.apply(this,arguments)}),e5=(eJ=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:var t;return eE(!0),[4,(0,o.Go)(G.chargebee_subscription_id).then((t=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return eZ(!1),eg((0,k.sc)({status:k.Ez.success,message:(0,S.Z)(e)})),[4,(0,c.pI)({teamId:ef}).then(function(e){eg((0,I.fs)(e))})];case 1:return t.sent(),[4,(0,x.Ai)({teamId:ef})];case 2:return eg.apply(void 0,[I.av.apply(void 0,[t.sent()])]),[2]}})}),function(e){return t.apply(this,arguments)})).catch(function(e){return eg((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(e.response?e.response.data:e)}))}).finally(function(){eE(!1)})];case 1:return e.sent(),[2]}})}),function(){return eJ.apply(this,arguments)}),e6=(eQ=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:var t;return eE(!0),[4,(0,o.Z8)(G.chargebee_subscription_id).then((t=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return eL(!1),eg((0,k.sc)({status:k.Ez.success,message:(0,S.Z)(e)})),[4,(0,c.pI)({teamId:ef}).then(function(e){eg((0,I.fs)(e))})];case 1:return t.sent(),[4,(0,x.Ai)({teamId:ef})];case 2:return eg.apply(void 0,[I.av.apply(void 0,[t.sent()])]),[2]}})}),function(e){return t.apply(this,arguments)})).catch(function(e){return eg((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(e.response?e.response.data:e)}))}).finally(function(){eE(!1)})];case 1:return e.sent(),[2]}})}),function(){return eQ.apply(this,arguments)}),e9=(eK=(0,s.Z)(function(e){var t,n,i;return(0,r.__generator)(this,function(i){switch(i.label){case 0:var l;return eE(!0),(t=new Date).setDate(t.getDate()+30*e),n=Math.floor(t.getTime()/1e3),[4,(0,o.Ks)(G.chargebee_subscription_id,n).then((l=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return eD(!1),eg((0,k.sc)({status:k.Ez.success,message:(0,S.Z)(e)})),[4,(0,c.pI)({teamId:ef}).then(function(e){eg((0,I.fs)(e))})];case 1:return t.sent(),eD(!1),[4,(0,x.Ai)({teamId:ef})];case 2:return eg.apply(void 0,[I.av.apply(void 0,[t.sent()])]),[2,e]}})}),function(e){return l.apply(this,arguments)})).catch(function(e){return eg((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(e.response?e.response.data:e)}))}).finally(function(){eE(!1)})];case 1:return[2,i.sent()]}})}),function(e){return eK.apply(this,arguments)}),e7=(e0=(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(e){switch(e.label){case 0:var t;if(eE(!0),!eG)return[3,2];return[4,(0,o.Ks)(G.chargebee_subscription_id,Math.floor(eG.getTime()/1e3)).then((t=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return eD(!1),eg((0,k.sc)({status:k.Ez.success,message:(0,S.Z)(e)})),[4,(0,c.pI)({teamId:ef}).then(function(e){eg((0,I.fs)(e))})];case 1:return t.sent(),eD(!1),[4,(0,x.Ai)({teamId:ef})];case 2:return eg.apply(void 0,[I.av.apply(void 0,[t.sent()])]),[2]}})}),function(e){return t.apply(this,arguments)})).catch(function(e){return eg((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(e.response?e.response.data:e)}))}).finally(function(){eE(!1)})];case 1:e.sent(),e.label=2;case 2:return[2]}})}),function(){return e0.apply(this,arguments)}),e8=(e1=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:var t;return eE(!0),[4,(0,o.io)(G.chargebee_subscription_id).then((t=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:return eg((0,k.sc)({status:k.Ez.success,message:(0,S.Z)(e)})),[4,(0,c.pI)({teamId:ef}).then(function(e){eg((0,I.fs)(e))})];case 1:return t.sent(),[4,(0,x.Ai)({teamId:ef})];case 2:return eg.apply(void 0,[I.av.apply(void 0,[t.sent()])]),eU(!1),[2]}})}),function(e){return t.apply(this,arguments)})).catch(function(e){return eg((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(e.response?e.response.data:e)}))}).finally(function(){eE(!1)})];case 1:return e.sent(),[2]}})}),function(){return e1.apply(this,arguments)}),te=!1,tt=function(){te||(te=!0,eE(!1),eu.reload())},tn=(e2=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:var t;if(te)return[3,2];return[4,(0,c.pI)({teamId:ef}).then((t=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:if(!e.coupon_info)return[3,2];return te=!0,eE(!1),eg((0,I.fs)(e)),[4,(0,x.Ai)({teamId:ef})];case 1:return eg.apply(void 0,[I.av.apply(void 0,[t.sent()])]),[2];case 2:setTimeout(function(){return tn()},1e3),t.label=3;case 3:return[2]}})}),function(e){return t.apply(this,arguments)}))];case 1:return e.sent(),[3,3];case 2:setTimeout(function(){return tn()},1e3),e.label=3;case 3:return[2]}})}),function(){return e2.apply(this,arguments)}),ts=(e4=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return eE(!0),[4,tn()];case 1:return e.sent(),setTimeout(function(){return tt()},2e4),[2]}})}),function(){return e4.apply(this,arguments)});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eo.Z,{isShowing:eS}),(0,a.jsx)(eh.T,{openReactivateModal:eT,onReactivateSubscription:e5,isLoading:eS,setOpenReactivateModal:eZ,t:ed}),(0,a.jsx)(ex,{openResumeModal:eM,onResumeSubscription:e6,isLoading:eS,setOpenResumeModal:eL,t:ed}),(0,a.jsx)(ev.M,{openRemoveChangeModal:ez,onRemoveChanges:e8,isLoading:eS,setOpenRemoveChangeModal:eU,t:ed}),(0,a.jsx)(eb,{openPauseModal:eR,onPauseSubscription:e7,isLoading:eS,setOpenPauseModal:eD,setResumeMonth:eY,resumeMonth:eV,resumeDate:eG,t:ed}),(0,a.jsxs)("div",{className:"w-full bg-[white] relative rounded-[16px] px-6 py-4 mobile:py-6 mobile:px-4 shadow-unsubscribeSection",children:[(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)(ep.Z,{className:"text-red-500 text-sm",teamId:ef})}),(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsxs)("div",{className:"relative flex justify-between mobile:justify-center items-center",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[G&&G.coupon_info&&(0,a.jsx)("div",{className:"flex justify-start w-fit items-center mb-2",children:(0,a.jsxs)("div",{className:"flex p-1 pr-3 text-teal-700 bg-teal-500 w-fit bg-opacity-20 text-[13px] rounded-full",children:[(0,a.jsx)(ec.IFg,{className:"h-4 w-4 mt-0.5 scale-x-[-1]"}),(0,a.jsxs)("p",{className:"px-1 font-bold",children:[G.coupon_info.discount_percentage,"%"]}),(0,a.jsx)("p",{className:"pr-1 font-bold",children:"forever"===G.coupon_info.duration_type?G.coupon_info.duration_type:""}),(0,a.jsx)("p",{children:"discount applied"})]})}),G&&G.is_active&&G.upcoming_invoice_on&&!(G.pause_collection&&G.pause_collection.resumes_at)&&!(G.downgrade_metadata&&G.downgrade_metadata.subscription.current_term_end)&&!(null==G?void 0:G.payment_failed_info)&&(0,a.jsx)("div",{className:"flex flex-row",children:(0,a.jsx)("div",{className:"text-sm text-purple-1 mb-2 mr-2 mobile:justify-center items-center",children:ed("● Next billing on: ".concat((0,Q.Z)(G.upcoming_invoice_on.replace("T"," ")+" UTC",null!==(Z=eu.locale)&&void 0!==Z?Z:"")))})}),G.cancel_date&&!(null==G?void 0:G.is_canceled)&&G.cancel_at_period_end&&(0,a.jsx)("div",{className:"flex flex-row",children:(0,a.jsx)("div",{className:"text-sm text-red-500 mb-2 mr-2 mobile:justify-center items-center",children:ed("● Will be cancelled on: ".concat((0,Q.Z)(G.cancel_date+" UTC",null!==(P=eu.locale)&&void 0!==P?P:"")))})}),(null==G?void 0:G.is_canceled)&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("div",{className:"text-sm bg-red-600 rounded-md w-fit text-[white] px-2 py-1 mb-3",children:ed("CANCELLED")})}),G.pause_collection&&G.pause_collection.resumes_at&&(0,a.jsx)("div",{className:"flex flex-row",children:(0,a.jsx)("div",{className:"text-sm text-yellow-500 mb-2 mr-2 mobile:justify-center items-center",children:ed("● Resumes on: ".concat((0,Q.Z)(new Date(1e3*parseInt(G.pause_collection.resumes_at)).toISOString().replace("T"," ").replace("Z"," UTC"),null!==(M=eu.locale)&&void 0!==M?M:"")))})}),G.downgrade_metadata&&G.downgrade_metadata.subscription.current_term_end&&(0,a.jsx)("div",{className:"flex flex-row",children:(0,a.jsxs)("div",{className:"flex text-sm text-purple-1 mb-2 mr-2 mobile:justify-center items-center",children:[(0,a.jsxs)("p",{children:[" ","● Will be changed on :"," ",(0,Q.Z)(new Date(1e3*G.downgrade_metadata.subscription.current_term_end).toLocaleDateString(eu.locale),null!==(L=eu.locale)&&void 0!==L?L:"",!0)]}),(0,a.jsx)("p",{className:"cursor-pointer underline pl-2",onClick:function(){return eU(!0)},children:"Cancel Change"})]})}),(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)("div",{className:"text-base-2 font-bold text-gray-900 mr-2",children:ed("Your current plan")}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-5 h-5 mr-1",children:(0,a.jsx)(w(),{src:er,alt:"Checked",layout:"fixed"})}),(0,a.jsx)("div",{className:"text-base-2 font-bold text-gray-900",children:null!==(q=null==eN?void 0:eN.title)&&void 0!==q?q:null==G?void 0:null===(l=G.subscription_product)||void 0===l?void 0:l.title})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-start mobile:justify-center items-center mt-3",children:[(0,a.jsxs)("div",{className:"flex text-sm text-gray-500 font-medium",children:[ed("Pricing"),":",(0,a.jsx)("div",{className:"flex",children:G&&G.coupon_info&&(null==ej?void 0:ej.price)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"line-through decoration-gray-400 px-2 font-light",children:["$",G&&(null==G?void 0:G.subscription_plan)&&(null!==(R=null==ej?void 0:ej.price)&&void 0!==R?R:null==G?void 0:null===(u=G.subscription_plan)||void 0===u?void 0:u.price)/100,"/",(null!==(D=null==ej?void 0:ej.interval)&&void 0!==D?D:null==G?void 0:null===(d=G.subscription_plan)||void 0===d?void 0:d.interval)===c.Xp.monthly?ed("month"):ed("year")]}),(0,a.jsxs)("div",{className:"font-bold",children:["$",(G.coupon_info&&G.coupon_info.discount_percentage?(null==ej?void 0:ej.price)-(null==ej?void 0:ej.price)*(parseInt(null===(m=G.coupon_info)||void 0===m?void 0:m.discount_percentage)/100):null==ej?void 0:ej.price)/100,"/",(null!==(A=null==ej?void 0:ej.interval)&&void 0!==A?A:null==G?void 0:null===(p=G.subscription_plan)||void 0===p?void 0:p.interval)===c.Xp.monthly?ed("month"):ed("year")]})]}):(0,a.jsxs)("div",{className:"pl-2",children:["$",G&&(null==G?void 0:G.subscription_plan)&&(null!==(z=null==ej?void 0:ej.price)&&void 0!==z?z:null==G?void 0:null===(h=G.subscription_plan)||void 0===h?void 0:h.price)/100,"/",(null!==(U=null==ej?void 0:ej.interval)&&void 0!==U?U:null==G?void 0:null===(v=G.subscription_plan)||void 0===v?void 0:v.interval)===c.Xp.monthly?ed("month"):ed("year")]})})]}),(0,a.jsx)(ee,{}),(0,a.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:G&&(0,K.Z)({subscription:G,remainCredits:et})?"".concat(ed("Credits")," : ").concat(null!==(B=null==ej?void 0:ej.credits)&&void 0!==B?B:null==G?void 0:null===(b=G.subscription_plan)||void 0===b?void 0:b.credits):(null!==(O="".concat((0,J.Z)(null!==(W=null==X?void 0:X.name)&&void 0!==W?W:"")," "))&&void 0!==O?O:"")+"".concat(ed("Words")," : ").concat(ej&&(null!==($=null==ej?void 0:ej.words)&&void 0!==$?$:null==G?void 0:null===(g=G.subscription_plan)||void 0===g?void 0:g.words).toLocaleString("en-eu"))})]})]})}),(0,a.jsx)("div",{className:"block mobile:hidden",children:ei()})]})}),(0,a.jsx)(el,{benefits:(null===(y=null!=ej?ej:null==G?void 0:G.subscription_plan)||void 0===y?void 0:null===(j=y.benefits)||void 0===j?void 0:j.length)?null!==(V=null===(F=null!=ej?ej:null==G?void 0:G.subscription_plan)||void 0===F?void 0:F.benefits)&&void 0!==V?V:[]:null!==(Y=null===(T=null!=eN?eN:null==G?void 0:G.subscription_product)||void 0===T?void 0:T.benefits)&&void 0!==Y?Y:[]}),(0,a.jsx)("div",{className:"hidden mobile:block w-full mt-2",children:ei()})]})]})},ey=function(e){var t,n,s,i;return{subscription:null===(t=e.user)||void 0===t?void 0:t.subscription,stripeCustomerId:null===(n=e.user)||void 0===n?void 0:n.stripe_customer_id,remainCredits:null===(s=e.user)||void 0===s?void 0:s.credits,chargebee_customer_id:null===(i=e.user)||void 0===i?void 0:i.chargebee_customer_id}},ej=(0,C.$j)(ey)(eg),ew=function(e){var t=e.subscription,n=e.stripeCustomerId,i=e.teamId,l=e.dispatch;if(!(null==t?void 0:t.stripe_subscription_id)&&(null==t?void 0:t.paypal_subscription_id)){l((0,W.tx)(!0));return}var a=window;try{a.churnkey.init("show",{subscriptionId:null==t?void 0:t.stripe_subscription_id,customerId:n,authHash:null==t?void 0:t.auth_hash,appId:"u8fnbtc8m",mode:"live",record:!0,handleSupportRequest:function(){a.Beacon("prefill",{subject:"[PRIORITY] Need help with subscription",text:"Hey team, I need some help with my subscription."}),a.Beacon("config",{docsEnabled:!1}),(0,ed.Fu)(),a.churnkey.hide()},onCancel:(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,c.gW)({teamId:i})];case 1:return l.apply(void 0,[I.fs.apply(void 0,[e.sent()])]),[2]}})}),onPause:(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,c.gW)({teamId:i})];case 1:return l.apply(void 0,[I.fs.apply(void 0,[e.sent()])]),[2]}})})})}catch(o){eu.Tb(o)}},e_=function(e){var t,n,i,l,o,u,d,m,p,h,x,v,b,g,j,F,T,Z,P,M,L,q,R,D,A=e.subscription,z=e.stripeCustomerId,U=e.currentEngine,B=e.remainCredits,W=e.products,O=e.isLifeTimeDealUser,$=e.lifeTimePlan,V=function(){var e;return(null==A?void 0:null===(e=A.stripe_subscription_id)||void 0===e?void 0:e.includes(td))||et?null:!O&&(0,a.jsxs)(N.Fragment,{children:[!(null==A?void 0:A.cancel_at_period_end)&&!(null==A?void 0:A.pause_collection)&&(0,a.jsx)(E.I,{icon:ea,onClick:eb,withBorder:!1,className:"border border-purple-4 bg-white hover:bg-purple-3 active:bg-purple-3 h-10 py-0 px-3 mobile:w-full mobile:mt-4 rounded-xb-large bg-inherit hover:bg-inherit ",children:X("Unsubscribe")}),!!(null==A?void 0:A.pause_collection)&&(0,a.jsx)(y.Z,{onClick:eg,isLoading:eh,className:"text-base mobile:w-full rounded-xl bg-purple-1 hover:bg-purple-2 active:bg-purple-4 text-white disabled:text-cyan-3 h-10 py-0 px-3",children:X("Resume")}),(null==A?void 0:A.cancel_at_period_end)&&(0,a.jsx)(y.Z,{className:"text-base mobile:w-full rounded-xl bg-purple-1 hover:bg-purple-2 active:bg-purple-4 text-white disabled:text-cyan-3 h-10 py-0 px-3",onClick:eg,isLoading:eh,children:X("Reactivate")})]})},Y=(0,_.useRouter)(),H=Y.locale,G=Y.query,X=(0,f.NT)(),et=G.teamId,en=(0,C.I0)(),es=(0,N.useState)(),ei=es[0],eo=es[1],ec=(0,N.useState)(),eu=ec[0],ed=ec[1],em=(0,N.useRef)(!1),ep=(0,N.useState)(!1),eh=ep[0],ef=ep[1];(0,N.useEffect)(function(){return em.current=!0,function(){em.current=!1}},[]),(0,N.useEffect)(function(){var e,t,n;ed(null===(n=null===(e=null==W?void 0:W.find(function(e){var t;return e.interval===(null==A?void 0:null===(t=A.subscription_plan)||void 0===t?void 0:t.interval)}))||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.find(function(e){return e.engine_id===(null==U?void 0:U.id)}))||void 0===n?void 0:n.subscription_products.find(function(e){var t;return e.id===(null==A?void 0:null===(t=A.subscription_product)||void 0===t?void 0:t.id)}))},[null==U?void 0:U.id,W,null==A?void 0:null===(t=A.subscription_plan)||void 0===t?void 0:t.interval,null==A?void 0:null===(n=A.subscription_product)||void 0===n?void 0:n.id,]),(0,N.useEffect)(function(){var e;eo(null==eu?void 0:null===(e=eu.plans)||void 0===e?void 0:e.find(function(e){var t;return e.id===(null==A?void 0:null===(t=A.subscription_plan)||void 0===t?void 0:t.id)}))},[null==A?void 0:null===(i=A.subscription_plan)||void 0===i?void 0:i.id,null==eu?void 0:eu.plans]);var ex,ev,eb=function(){ew({subscription:A,stripeCustomerId:z,teamId:et,dispatch:en})},eg=(ex=(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),ef(!0),[4,en((0,I.z3)())];case 1:return t.sent(),Y.reload(),[3,4];case 2:return e=t.sent(),en((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(e)})),[3,4];case 3:return em.current&&ef(!1),[7];case 4:return[2]}})}),function(){return ex.apply(this,arguments)});return(0,a.jsxs)("div",{className:"w-full bg-white relative rounded-2xl px-6 py-4 mobile:py-6 mobile:px-4 shadow-unsubscribeSection max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(null==A?void 0:A.paypal_subscription_id)&&(null==A?void 0:A.cancel_date)&&(null==A?void 0:A.cancel_at_period_end)&&(0,a.jsx)("div",{className:"flex flex-row",children:(0,a.jsx)("div",{className:"text-sm text-red-500 mb-2 mr-2 mobile:justify-center items-center",children:X("● Will be cancelled on: ".concat((0,Q.Z)(A.cancel_date+" UTC",null!==(b=Y.locale)&&void 0!==b?b:"",!0)))})}),(0,a.jsxs)("div",{className:"relative flex justify-between mobile:justify-center items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"text-base-2 font-bold text-gray-900 mr-2",children:X("Your current plan")}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-5 h-5 mr-1",children:(0,a.jsx)(w(),{src:er,alt:"Checked",layout:"fixed"})}),(0,a.jsx)("div",{className:"text-base-2 font-bold text-gray-900",children:O?"Lifetime":null!==(g=null==eu?void 0:eu.title)&&void 0!==g?g:null==A?void 0:null===(l=A.subscription_product)||void 0===l?void 0:l.title})]})]}),(0,a.jsx)("div",{className:"block mobile:hidden",children:V()})]}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-start mobile:justify-center items-center mt-3",children:[O?(0,a.jsxs)("p",{className:"text-sm text-gray-500 font-medium",children:[X("Monthly Credits"),": ",(ev=0,null==$||$.forEach(function(e){var t;ev+=null!==(t=e.credits_per_month)&&void 0!==t?t:0}),ev)]}):(0,a.jsxs)("p",{className:"text-sm text-gray-500 font-medium",children:[X("Pricing"),": $",(null!==(F=null!==(j=null==ei?void 0:ei.price)&&void 0!==j?j:null==A?void 0:null===(o=A.subscription_plan)||void 0===o?void 0:o.price)&&void 0!==F?F:0)/100,"/",(null!==(T=null==ei?void 0:ei.interval)&&void 0!==T?T:null==A?void 0:null===(u=A.subscription_plan)||void 0===u?void 0:u.interval)===c.Xp.monthly?X("month"):X("year")]}),O?null==$?void 0:$.map(function(e){return(null==e?void 0:e.codes)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ee,{}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 font-medium",children:[X("Active")+" "+e.name+" "+X("Codes"),":"," ",e.codes]})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ee,{}),(0,a.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:(0,K.Z)({subscription:A,remainCredits:B})?"".concat(X("Credits")," : ").concat(null!==(Z=null==ei?void 0:ei.credits)&&void 0!==Z?Z:null==A?void 0:null===(d=A.subscription_plan)||void 0===d?void 0:d.credits):(null!==(M="".concat((0,J.Z)(null!==(P=null==U?void 0:U.name)&&void 0!==P?P:"")," "))&&void 0!==M?M:"")+"".concat(X("Words")," : ").concat((null!==(q=null!==(L=null==ei?void 0:ei.words)&&void 0!==L?L:null==A?void 0:null===(m=A.subscription_plan)||void 0===m?void 0:m.words)&&void 0!==q?q:"").toLocaleString("en-eu"))})]}),!O&&(0,a.jsx)(ee,{className:"mobile:hidden"}),(null==A?void 0:A.cancel_at_period_end)&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 font-medium",children:[X("Ends on")," ",(0,Q.Z)(null==A?void 0:A.cancel_date,null!=H?H:"en")]})]})]}),(0,a.jsx)(el,{benefits:(null===(p=null!=ei?ei:null==A?void 0:A.subscription_plan)||void 0===p?void 0:null===(h=p.benefits)||void 0===h?void 0:h.length)?null!==(R=null===(x=null!=ei?ei:null==A?void 0:A.subscription_plan)||void 0===x?void 0:x.benefits)&&void 0!==R?R:[]:null!==(D=null===(v=null!=eu?eu:null==A?void 0:A.subscription_product)||void 0===v?void 0:v.benefits)&&void 0!==D?D:[]}),(0,a.jsx)("div",{className:"hidden mobile:block w-full mt-2",children:V()})]})},eN=function(e){var t,n,s,i,l;return{subscription:null===(t=e.user)||void 0===t?void 0:t.subscription,stripeCustomerId:null===(n=e.user)||void 0===n?void 0:n.stripe_customer_id,remainCredits:null===(s=e.user)||void 0===s?void 0:s.credits,isLifeTimeDealUser:null===(i=e.user)||void 0===i?void 0:i.is_lifetime_deal_user,lifeTimePlan:null===(l=e.user)||void 0===l?void 0:l.lifeTimePlan}},eC=(0,C.$j)(eN)(e_),ek=n(29815),eI=n(26667),eS={src:"/_next/static/media/missing.c4c89e1b.svg",height:20,width:21},eE=n(31955),eF=n(4813),eT=n(1920),eZ=function(e){var t,n,s=e.members,i=e.myId,l=e.roleInTeam,r=e.onChangeCandidates,o=(0,f.NT)(),c=(0,N.useState)([]),u=c[0],d=c[1],m=function(e,t){e?d((0,ek.Z)(u).concat([t])):d(u.filter(function(e){return e!==t}))};return(0,N.useEffect)(function(){r&&r(u)},[u,r]),(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{className:"text-lg font-medium text-gray-900",children:"Members"}),(0,a.jsx)("div",{className:"mt-4 border-t border-b border-gray-200 divide-y divide-gray-200",children:null==s?void 0:s.map(function(e){var s=e.user_id,c=e.first_name,u=e.last_name,d=e.email,p=e.role;return(0,a.jsxs)("div",{className:"relative flex items-center py-4",children:[(0,a.jsx)("div",{className:"min-w-0 flex-1 text-sm",children:(0,a.jsxs)("label",{htmlFor:"person-".concat(s),className:"font-medium text-gray-700 select-none flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"rounded-full bg-indigo-200 w-10 h-10 flex justify-center items-center",children:(0,a.jsx)("p",{className:"text-sm ",children:(null!==(t=c[0])&&void 0!==t?t:"")+(null!==(n=u[0])&&void 0!==n?n:"")})}),(0,a.jsxs)("div",{className:"ml-3 flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:c+" "+u}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:d})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(p===eF.k_.admin||p===eF.k_.owner)&&(0,a.jsx)("p",{className:"text-center max-w-min bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:o("admin")}),p===eF.k_.member&&(0,a.jsx)("p",{className:"text-center max-w-min bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:o("team:".concat(p))})]})]})}),(0,a.jsx)("div",{className:"ml-3 flex justify-center items-center h-full w-8",children:i!==s&&p!==eF.k_.owner&&!!r&&(0,a.jsx)("input",{id:"person-".concat(s),name:"person-".concat(s),type:"checkbox",className:"focus:ring-purple-1 h-4 w-4 text-indigo-600 border-gray-300 rounded",disabled:l===eF.k_.admin&&p===eF.k_.admin,onChange:function(e){m(e.target.checked,s)}})})]},s)})})]})},eP=function(e){var t,n,s,i;return{myId:null!==(s=null===(t=e.user)||void 0===t?void 0:t.id)&&void 0!==s?s:"",roleInTeam:null!==(i=null===(n=e.user)||void 0===n?void 0:n.role_in_team)&&void 0!==i?i:eF.k_.owner}},eM=(0,C.$j)(eP)(eZ),eL=function(e){var t=e.openChangePlanModal,n=e.id,i=e.isLoading,l=e.setOpenChangePlanModal,u=e.t,d=e.selectedPlan,h=e.setIsLoading,f=e.currentSubscription,v=e.user_seats,b=e.engine,g=(0,N.useRef)(!1),j=(0,_.useRouter)().query.teamId,w=(0,C.I0)(),F=(0,N.useState)(!1),T=(F[0],F[1]),Z=(0,N.useState)(!1),P=Z[0],M=Z[1],L=(0,N.useState)([]),q=L[0],R=L[1],D=(0,N.useState)([]),A=D[0],z=D[1],U=(0,N.useCallback)((0,s.Z)(function(){var e,t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),h(!0),[4,(0,eF.r8)({team_id:j})];case 1:return R(e.sent()),[3,4];case 2:throw e.sent();case 3:return g.current&&h(!1),[7];case 4:return[2]}})}),[j,h]);(0,N.useEffect)(function(){return g.current=!0,function(){g.current=!1}},[]),(0,N.useEffect)(function(){d&&((null==d?void 0:d.user_seats)>=0&&v<0&&(null==d?void 0:d.user_seats)>0||v>0&&v>(null==d?void 0:d.user_seats)?U():R([]))},[null==d?void 0:d.user_seats,U,v,d]),(0,N.useEffect)(function(){M((null==d?void 0:d.user_seats)>=0&&(v<0&&(null==d?void 0:d.user_seats)>0||v>0&&v>(null==d?void 0:d.user_seats))&&q.length>(null==d?void 0:d.user_seats))},[q.length,null==d?void 0:d.user_seats,v]);var B,W,O=function(){z(function(){return[]}),l(!1)},$=(B=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:var t;return h(!0),[4,(0,o.f2)(f.id,n,A,b.id).then((t=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:var n;return O(),w((0,k.sc)({status:k.Ez.success,message:(0,S.Z)(e)})),[4,(0,c.pI)({teamId:j}).then((n=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){return w((0,I.fs)(e)),[2]})}),function(e){return n.apply(this,arguments)}))];case 1:return t.sent(),[4,(0,x.Ai)({teamId:j})];case 2:return w.apply(void 0,[I.av.apply(void 0,[t.sent()])]),[2]}})}),function(e){return t.apply(this,arguments)})).catch(function(e){return w((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(e.response?e.response.data:e)}))}).finally(function(){h(!1)})];case 1:return e.sent(),[2]}})}),function(){return B.apply(this,arguments)}),V=(W=(0,s.Z)(function(){var e,t;return(0,r.__generator)(this,function(n){switch(n.label){case 0:if(n.trys.push([0,8,9,10]),T(!0),P&&A.length<q.length-(null==d?void 0:d.user_seats))return w((0,k.sc)({status:k.Ez.failed,message:"By downgrading your plan, you will loose access to some user seats. Please select at least ".concat(q.length-(null==d?void 0:d.user_seats)-A.length," member(s) that you would like to remove.")})),T(!1),[2];if(!f.chargebee_subscription_id)return[3,2];return[4,$()];case 1:return n.sent(),[3,3];case 2:throw Error("");case 3:return n.trys.push([3,6,,7]),[4,(0,eT.C)({team_id:j})];case 4:return w.apply(void 0,[k.DG.apply(void 0,[n.sent()])]),[4,(0,x.Ai)({teamId:j})];case 5:return w.apply(void 0,[I.av.apply(void 0,[n.sent()])]),[3,7];case 6:return n.sent(),[3,7];case 7:return[3,10];case 8:return e=n.sent(),w((0,k.sc)({status:k.Ez.failed,message:null!==(t=(0,S.Z)(e))&&void 0!==t?t:"An error occurred while updating your plan"})),[3,10];case 9:return g.current&&(z(function(){return[]}),T(!1)),[7];case 10:return[2]}})}),function(){return W.apply(this,arguments)});return(0,a.jsx)(m.u,{appear:!0,show:t,as:N.Fragment,children:(0,a.jsxs)(p.V,{as:"div",className:"relative z-[100]",onClose:function(){},children:[(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(p.V.Panel,{className:"transform rounded-2xl bg-white text-left align-middle shadow-xl transition-all w-full sm:w-[35%] tablet:w-[50%]",children:[(0,a.jsxs)("div",{className:"px-6 pt-8 pb-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.V.Title,{as:"h3",className:"text-2xl font-bold leading-6 text-gray-900",children:u("Change Subscription Plan")}),(0,a.jsx)(p.V.Description,{as:"p",className:"text-sm text-gray-500 mt-4",children:P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"By downgrading your plan, you will loose access to some user seats. Please select at least ".concat(q.length-(null==d?void 0:d.user_seats)," member(s) that you would like to remove. ")}),(0,a.jsx)("span",{children:u("If you don't have the required permissions, please ask your account owner.")})]}):"This action will incur any applicable charges. Are you sure you want to change your current plan with the selected plan?"})]}),(0,a.jsx)("div",{onClick:function(){i||l(!1)},className:"rounded-4xl cursor-pointer",children:(0,a.jsx)(ef.Z,{className:"rounded-4xl w-6 h-6 text-gray-500 hover:text-purple-500 active:text-navy-1"})})]}),P&&(0,a.jsx)("div",{className:"py-5",children:(0,a.jsx)(eM,{members:q,onChangeCandidates:z})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mobile:flex-col-reverse px-6 pb-6",children:[(0,a.jsx)(E.I,{className:"mobile:w-full h-12 w-full rounded-xl ml-auto mt-4 mr-2 mobile:mr-0",onClick:function(){return l(!1)},disabled:i,children:u("Cancel")}),(0,a.jsx)(y.Z,{className:"mobile:w-full h-12 w-full rounded-xl ml-auto mt-4 ml-2 mobile:ml-0",isLoading:i,onClick:function(){return V()},children:u(P?"Remove Members and Change Plan":"Change Plan")})]})]})})})})]})})},eq=function(e){var t,n=e.plan,i=e.product,l=e.children,u=e.currentSubscription,d=e.currentEngine;e.subscription;var m,p,h,v,b,g,j=function(e){var t,n=window.Chargebee.init({site:"writesonic"}),i=null!==(t=eE.Z.get("_fprom_tid"))&&void 0!==t?t:"";n.openCheckout({hostedPage:(0,s.Z)(function(){var t;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return[4,(0,o.Mc)({plan_id:null==e?void 0:e.id,fprom_tid:i,team_id:Q})];case 1:return[2,t.sent().data.hosted_page]}})}),loaded:function(){},close:(0,s.Z)(function(){return(0,r.__generator)(this,function(e){return[2]})}),success:(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return J(!0),[4,et()];case 1:return e.sent(),setTimeout(function(){return en()},2e4),[2]}})})})},S=(0,f.NT)(),F=n.id,T=n.price,P=n.interval,M=n.credits,L=n.words,q=n.user_seats,R=n.benefits,D=(n.message,n.stripe_price_id),A=n.paypal_plan_id,z=n.chargebee_price_id,U=(0,C.I0)(),B=(0,_.useRouter)(),W=(0,N.useState)(!1),O=W[0],$=W[1],V=(0,N.useState)(!1),Y=V[0],H=V[1],G=(0,N.useState)(!1),X=G[0],J=G[1],Q=B.query.teamId,K=!1,et=(m=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:var t;if(K)return[3,2];return[4,(0,c.pI)({teamId:Q}).then((t=(0,s.Z)(function(e){return(0,r.__generator)(this,function(t){switch(t.label){case 0:if(!e)return[3,2];return K=!0,J(!1),U((0,I.EE)(!0)),U((0,I.fs)(e)),[4,(0,x.Ai)({teamId:Q})];case 1:return U.apply(void 0,[I.av.apply(void 0,[t.sent()])]),[2];case 2:setTimeout(function(){return et()},1e3),t.label=3;case 3:return[2]}})}),function(e){return t.apply(this,arguments)}))];case 1:return e.sent(),[3,3];case 2:setTimeout(function(){return et()},1e3),e.label=3;case 3:return[2]}})}),function(){return m.apply(this,arguments)}),en=(p=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){return K||(K=!0,J(!1),U((0,k.sc)({status:k.Ez.failed,message:"Sorry, we couldn't process your payment. Please contact support for help."}))),[2]})}),function(){return p.apply(this,arguments)});return(0,a.jsxs)(a.Fragment,{children:[X&&(0,a.jsx)(eo.Z,{}),u&&u.subscription_plan&&(0,a.jsx)(eL,{t:S,id:F,selectedPlan:n,isLoading:Y,engine:d,setIsLoading:H,currentSubscription:u,openChangePlanModal:O,setOpenChangePlanModal:$,user_seats:null==u?void 0:u.subscription_plan.user_seats}),(0,a.jsxs)("div",{className:"h-auto tablet:px-2 sm:h-62.15 flex flex-col",children:[(0,a.jsx)("div",{className:"h-40 px-4 mobile:h-33.3",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-4xl font-bold text-gray-900",children:["$",Math.round(T/(P===c.Xp.annual?12:1)/100)]}),(0,a.jsx)("p",{className:"text-xs font-normal text-gray-500 mt-1",children:S(z&&(P===c.Xp.monthly||P===c.Xp.annual)?"/month":"")}),l,!z&&(0,a.jsx)("div",{className:"m-auto text-center desktop:mt-6 tablet:mt-6 smallTablet:mt-6 mobile:mt-4 py-2 px-3 bg-gray-4 rounded-xl mobile:px-12",children:(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:S("Try out all features to determine what works best for you")})})]})}),(0,a.jsxs)("div",{className:"flex justify-center text-center items-center mt-10 xl:mt-0",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-900 font-bold",children:[M?"".concat(M," ").concat(S("credits")):"".concat(null==L?void 0:L.toLocaleString("en-US")," ").concat(S("words")),"/month"]}),(0,a.jsx)(ee,{className:"bg-gray-1"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 font-medium",children:[q," ",S("seats")]})]}),(g=!!(null==u?void 0:null===(h=u.stripe_subscription_id)||void 0===h?void 0:h.includes(td))||!!Q,(0,a.jsxs)("div",{className:"mobile:w-full flex justify-center mt-auto mobile:mt-6 mobile:px-6",children:[0===T&&(0,a.jsx)(E.I,{className:"text-base mobile:w-full h-12 w-42.5 rounded-xl",disabled:!0,children:S("Get Started Free")}),!u&&(D||A||z)&&(0,a.jsx)(y.Z,{className:"text-base mobile:w-full h-12 w-42.5 rounded-xl hover:bg-purple-2 active:bg-navy-1",disabled:g,onClick:function(){j(n)},children:S("Upgrade")}),(u&&(null==u?void 0:null===(v=u.subscription_plan)||void 0===v?void 0:v.id)===F&&z||!u&&!z)&&0!==T&&(0,a.jsx)("div",{className:"bg-gray-1 text-black-3 text-sm font-bold rounded-10 px-4 py-2 flex justify-center items-center text-base mobile:w-full h-12 w-42.5 rounded-xl",children:S("Current plan")}),u&&(null==u?void 0:null===(b=u.subscription_plan)||void 0===b?void 0:b.id)!==F&&D&&(0,a.jsx)(y.Z,{className:(0,Z.Z)("text-base mobile:w-full h-12 w-42.5 rounded-xl",g?"":"hover:bg-purple-2 active:bg-navy-1"),disabled:g,onClick:function(){$(!0)},children:S("Change Plan")})]}))]}),(0,a.jsx)("div",{className:"px-6 flex justify-center mobile:justify-start col-span-4 py-8 desktop:pb-0 tablet:pb-0 smallTablet:pb-0 mobile:pt-0 mobile:pb-4 mt-8 mobile:border-none",children:(0,a.jsx)("div",{className:"items-center flex-wrap",children:null===(t=(null==R?void 0:R.length)?R:null==i?void 0:i.benefits)||void 0===t?void 0:t.map(function(e,t){var n=e.is_checked,s=e.text;return(0,a.jsxs)("div",{className:"mb-6 last:mb-0 flex items-start",children:[!0===n&&(0,a.jsx)("div",{className:"w-[20px] h-[20px] mr-2",children:(0,a.jsx)(w(),{src:ei,alt:"Checked",layout:"fixed",width:20,height:20})}),!1===n&&(0,a.jsx)("div",{className:"w-[20px] h-[20px] mr-2",children:(0,a.jsx)(w(),{src:eS,alt:"Checked",layout:"fixed",width:20,height:20})}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",dangerouslySetInnerHTML:{__html:S(s)}})]},t)})})})]})},eR=function(e){var t,n;return{stripeCustomerId:null===(t=e.user)||void 0===t?void 0:t.stripe_customer_id,subscription:null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.subscription}},eD=(0,C.$j)(eR)(eq),eA=n(6092),ez=function(e){var t,n,s=e.plans,i=e.selectedIndex,l=e.setSelectedIndex;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-gray-700 text-sm font-medium mb-2",children:[(0,a.jsx)("p",{children:null===(t=s[0].words)||void 0===t?void 0:t.toLocaleString("en-US")}),(0,a.jsx)("p",{children:null===(n=s[s.length-1].words)||void 0===n?void 0:n.toLocaleString("en-US")})]}),(0,a.jsx)(eA.Z,{min:0,max:(null==s?void 0:s.length)-1,step:1,value:i,onChange:l})]})},eU=function(e){var t,n=e.plans,s=e.product,i=e.currentSubscription,l=e.currentEngine,r=(0,N.useRef)(!1),o=(0,N.useState)(1),c=o[0],u=o[1];return((0,N.useEffect)(function(){var e;!r.current&&(null==i?void 0:null===(e=i.subscription_plan)||void 0===e?void 0:e.id)&&(null==n?void 0:n.length)&&(n.forEach(function(e,t){var n;if((null==e?void 0:e.id)===(null==i?void 0:null===(n=i.subscription_plan)||void 0===n?void 0:n.id)){u(t);return}}),r.current=!0)},[null==i?void 0:null===(t=i.subscription_plan)||void 0===t?void 0:t.id,n]),(null==n?void 0:n.length)<c)?null:(0,a.jsx)(eD,{plan:n[c],product:s,currentSubscription:i,currentEngine:l,children:(0,a.jsx)("div",{className:"m-auto text-center desktop:mt-2 tablet:mt-2 smallTablet:mt-2 mobile:mt-4 py-2 px-3",children:(0,a.jsx)(ez,{plans:n,selectedIndex:c,setSelectedIndex:u})})})},eB=function(e){var t,n=e.product;e.subscription;var s=(0,f.NT)();return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"h-auto sm:h-62.15 flex flex-col",children:[(0,a.jsxs)("svg",{className:"mx-auto flex-1 py-8",width:"62",height:"62",viewBox:"0 0 62 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M20.7492 56.6201H41.2453C51.5446 56.6201 53.3893 52.4953 53.9273 47.4737L55.8488 26.9776C56.5405 20.7263 54.7471 15.6279 43.8074 15.6279H18.1872C7.24745 15.6279 5.45404 20.7263 6.14578 26.9776L8.06729 47.4737C8.60531 52.4953 10.45 56.6201 20.7492 56.6201Z",stroke:"#9CA3AF",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M20.7578 15.6289V13.5793C20.7578 9.04454 20.7578 5.38086 28.9562 5.38086H33.0555C41.2539 5.38086 41.2539 9.04454 41.2539 13.5793V15.6289",stroke:"#9CA3AF",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M55.7244 28.439C49.8061 32.7431 43.0424 35.3052 36.125 36.1762",stroke:"#9CA3AF",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M6.97656 29.1294C12.7411 33.0749 19.2486 35.4576 25.8842 36.2005",stroke:"#9CA3AF",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M36.123 33.562V36.124C36.123 36.1496 36.123 36.1496 36.123 36.1753C36.123 38.9679 36.0974 41.248 30.999 41.248C25.9262 41.248 25.875 38.9935 25.875 36.2009V33.562C25.875 31 25.875 31 28.437 31H33.561C36.123 31 36.123 31 36.123 33.562Z",stroke:"#9CA3AF",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,a.jsx)("div",{className:"mobile:w-full flex justify-center mt-0 mobile:mt-6 mobile:px-6",children:(0,a.jsx)("a",{href:"mailto:support@writesonic.com",children:(0,a.jsx)(E.I,{className:"mx-auto text-base mobile:w-full h-12 w-42.5 rounded-xl",children:s("Contact Sales")})})})]}),(0,a.jsxs)("div",{className:"px-6 col-span-4 py-8 desktop:pb-0 tablet:pb-0 smallTablet:pb-0 mobile:pt-0 mobile:pb-4 mt-8 mobile:border-none",children:[(0,a.jsx)("p",{className:"mb-6 text-sm font-bold text-gray-600",children:"Everything in Long-form, plus"}),(0,a.jsx)("div",{className:"items-center flex-wrap mt-4",children:null==n?void 0:null===(t=n.benefits)||void 0===t?void 0:t.map(function(e,t){var n=e.is_checked,i=e.text;return(0,a.jsxs)("div",{className:"mb-6 last:mb-0 flex items-start",children:[!0===n&&(0,a.jsx)("div",{className:"w-5 h-5 mr-2",children:(0,a.jsx)(w(),{src:ei,alt:"Checked",layout:"fixed",width:20,height:20})}),!1===n&&(0,a.jsx)("div",{className:"w-5 h-5 mr-2",children:(0,a.jsx)(w(),{src:eS,alt:"Checked",layout:"fixed",width:20,height:20})}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",dangerouslySetInnerHTML:{__html:s(i)}})]},t)})})]})]})},eW=function(e){var t,n=e.subscription,s=e.engines,i=e.products,l=e.currentEngine,r=e.setCurrentEngine;e.payment_completed_successfully;var o=function(e,t){var n=e.id,s=e.title,i=e.subtitle,l=e.description;return(0,a.jsxs)("div",{className:"flex-1 px-6 h-auto sm:h-60 lg:h-40",children:[(0,a.jsx)("div",{className:"text-center text-2xl font-bold text-gray-900 mb-3",children:s&&d(s)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-center text-base font-bold text-gray-600 mb-1",children:i&&d(i)}),(0,a.jsx)("p",{className:"text-center text-sm text-gray-500",children:l&&d(l)})]})]},n)},u=(0,N.useRef)(!1),d=(0,f.NT)(),m=(0,N.useState)((null==n?void 0:null===(t=n.subscription_plan)||void 0===t?void 0:t.interval)===c.Xp.monthly),p=m[0],h=m[1];(0,N.useEffect)(function(){return u.current=!0,function(){u.current=!1}},[]);var x=es("(max-width: 599px)"),v=(0,N.useState)({}),b=v[0],y=v[1],j=(0,N.useState)(!1),w=j[0],_=j[1];(0,N.useEffect)(function(){return u.current=!0,function(){u.current=!1}},[]),(0,N.useEffect)(function(){x?y({chooseQuality:{order:1},qualityFilter:{order:2},freeTrial:{order:3},shortForm:{order:6},longForm:{order:9},freeTrialCapabilities:{order:5},shortFormCapabilities:{order:8},longFormCapabilities:{order:11}}):y({chooseQuality:{},qualityFilter:{},freeTrial:{},shortForm:{},longForm:{},freeTrialCapabilities:{},shortFormCapabilities:{},longFormCapabilities:{}})},[x]);var C=function(e){h(!e)},k=(0,ek.Z)(null!=s?s:[]).sort(function(e,t){return t.order-e.order}),I=(0,N.useMemo)(function(){var e,t,n,s,r=null!==(s=null===(n=null===(e=null==i?void 0:i.find(function(e){return e.interval===(p?c.Xp.monthly:c.Xp.annual)}))||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.find(function(e){return e.engine_id===(null==l?void 0:l.id)}))||void 0===n?void 0:n.subscription_products)&&void 0!==s?s:[];return(null==r?void 0:r.find(function(e){return e.id===tm}))||r.push({id:tm,benefits:[{is_checked:!0,text:"Custom number of words"},{is_checked:!0,text:"Custom number of users"},{is_checked:!0,text:"Custom AI development"},{is_checked:!0,text:"Invoicing options"},{is_checked:!0,text:"Dedicated account manager"},{is_checked:!0,text:"Training sessions"},{is_checked:!0,text:"Premium support"},],color:"",title:"Custom Plan",subtitle:"For teams and businesses",description:"Take your business to the next level with custom packages, custom AI model development, onboarding, and support.",plans:[]}),r},[null==l?void 0:l.id,p,i]);return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"rounded-2xl bg-gray-4 w-full px-6 py-5 mobile:px-2 mobile:p-2.5 mobile:my-0 mb-9 mobile:sticky mobile:-top-8 z-10",children:[(0,a.jsxs)("div",{className:"w-full mobile:block flex items-center justify-between",children:[(0,a.jsxs)("div",{style:b.chooseQuality,className:"flex-1 flex flex-col justify-start mobile:justify-center mobile:col-span-4 smallTablet:col-span-3 tablet:col-span-3 desktop:col-span-3",children:[(0,a.jsx)("p",{className:"text-base font-bold text-gray-900",children:d("Choose quality")}),(0,a.jsx)("span",{className:"text-xs font-semibold text-gray-600",children:"Premium: GPT-3.5; Superior & Ultra: GPT-4"})]}),(0,a.jsx)("div",{style:b.qualityFilter,className:"mobile:border-none mobile:rounded-none border rounded-full border-gray-1 items-center text-xs flex overflow-auto col-span-6 w-fit p-0.5 mobile:mx-auto",children:null==k?void 0:k.map(function(e){var t=e.id,n=e.name;return e.is_visible?(0,a.jsx)("button",{className:"text-xs mr-0.6 last:mr-0.6 capitalize ".concat("text-xs flex items-center font-bold p-2 sm:px-3 rounded-3xl whitespace-nowrap h-7.5"," ").concat((null==l?void 0:l.id)===t?"text-white bg-purple-1":"text-gray-500 hover:text-gray-700"),onClick:function(){return r(e)},children:d(n)},t):null})}),(0,a.jsx)("div",{className:"flex-1 flex items-center mobile:fixed mobile:bottom-6 mobile:left-0 mobile:right-4 mobile:m-auto mobile:z-10 mobile:bg-white w-fit mobile:rounded-full mobile:px-4 mobile:py-3 mobile:shadow-dashBoardCard justify-end mobile:justify-between",children:(0,a.jsx)("div",{children:(0,a.jsx)(eI.Z,{enabled:!p,setEnabled:C})})})]}),(0,a.jsx)(F,{openModal:w,setOpenModal:_})]}),(0,a.jsx)("div",{className:"flex justify-between mobile:block space-y-5 sm:space-y-0 mt-4 sm:mt-0",children:null==I?void 0:I.map(function(e,t){var s=e.id,i=e.title,r=e.plans;return(0,a.jsx)("div",{className:g()("mobile:w-full p-0.5 rounded-5xl shadow-unsubscribeSection sm:shadow-none",i===tp?"bg-recommended-plan":"",1===t?"w-3/6":"w-2/6"),children:(0,a.jsxs)("div",{className:"w-full h-full flex flex-col mobile:py-2 bg-white rounded-4xl",children:[(0,a.jsx)("div",{className:"py-6",children:o(e,t)}),!(null==r?void 0:r.length)&&(0,a.jsx)(eB,{product:e,subscription:n}),(null==r?void 0:r.length)===1&&(0,a.jsx)(eD,{plan:r[0],currentSubscription:n,product:e,currentEngine:l}),(null==r?void 0:r.length)>1&&(0,a.jsx)(eU,{plans:r,currentSubscription:n,product:e,currentEngine:l})]})},s)})}),(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-600 p-2",children:"Note: Superior and Ultra qualities (GPT-4) offer enhanced intelligence, improved understanding of inputs, and smarter contextual responses. They also support longer texts (both input and output) and better non-English language comprehension. Currently, Superior is live and Ultra will be coming soon."}),(0,a.jsx)("p",{className:"text-sm italic font-semibold text-gray-500 p-2",children:"If a plan provides 60,000 Premium words, that means you can use either 60,000 Premium words or 30,000 Superior quality words or 15,000 Ultra quality words."}),(0,a.jsxs)("p",{className:"text-sm text-purple-1 font-bold p-2",children:["Are you a student or a non-profit? Get an additional 30% off on annual plans.",(0,a.jsx)("br",{}),(0,a.jsx)("a",{href:"support@writesonic.com",className:"underline",children:"Contact support now!"})]})]})]})},eO=function(e){var t,n,s;return{subscription:null===(t=e.user)||void 0===t?void 0:t.subscription,engines:null==e?void 0:null===(n=e.options)||void 0===n?void 0:n.engines,payment_completed_successfully:null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.payment_completed_successfully}},e$=(0,C.$j)(eO)(eW),eV=function(){var e=(0,f.NT)();return(0,a.jsx)("h1",{className:"w-full font-bold text-gray-900 max-w-full desktop:text-4xl tablet:text-base-2 smallTablet:text-base-2 mobile:text-2xl",children:e("Upgrade your account")})},eY=n(58771),eH=function(e){var t=e.isOpenModal,n=e.subscription,i=(0,N.useRef)(!1),l=(0,_.useRouter)().query.teamId,o=(0,C.I0)(),u=(0,f.NT)(),d=(0,N.useState)(!1),h=d[0],x=d[1],v=(0,N.useState)(!1),b=v[0],g=v[1],j=(0,N.useState)([]),w=j[0],S=j[1];(0,N.useEffect)(function(){return i.current=!0,function(){i.current=!1}},[]);var F=(0,N.useCallback)((0,s.Z)(function(){var e;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),g(!0),[4,(0,eF.r8)({team_id:l})];case 1:return S(e.sent()),[3,4];case 2:return e.sent(),[3,4];case 3:return i.current&&g(!1),[7];case 4:return[2]}})}),[l]);(0,N.useEffect)(function(){t&&F()},[t,F]);var T,Z=function(e){o((0,W.tx)(e))},P=(T=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:if(e.trys.push([0,11,,12]),x(!0),!(null==n?void 0:n.stripe_subscription_id))return[3,2];return[4,(0,c.sz)(null==n?void 0:n.stripe_subscription_id,l)];case 1:case 3:return e.sent(),[3,5];case 2:if(!(null==n?void 0:n.paypal_subscription_id))return[3,4];return[4,(0,c.Qe)(null==n?void 0:n.paypal_subscription_id,l)];case 4:throw Error(void 0);case 5:return[4,(0,c.gW)({teamId:l})];case 6:o.apply(void 0,[I.fs.apply(void 0,[e.sent()])]),i.current&&x(!1),o((0,k.sc)({status:k.Ez.success,message:u("Your plan was has been canceled successfully.")})),o((0,W.tx)(!1)),e.label=7;case 7:return e.trys.push([7,9,,10]),[4,(0,eT.C)({team_id:l})];case 8:return o.apply(void 0,[k.DG.apply(void 0,[e.sent()])]),[3,10];case 9:return e.sent(),[3,10];case 10:return[3,12];case 11:return e.sent(),i.current&&x(!1),o((0,k.sc)({status:k.Ez.failed,message:"Sorry, we weren't able to process your cancellation request."})),[3,12];case 12:return[2]}})}),function(){return T.apply(this,arguments)});return(0,a.jsx)(m.u.Root,{show:t,as:N.Fragment,children:(0,a.jsx)(p.V,{as:"div",static:!0,className:"fixed z-90 inset-0 overflow-y-auto",open:t,onClose:function(){},onClick:function(e){return e.stopPropagation()},children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(p.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)("div",{className:"relative inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)(eY.Z,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,a.jsx)(p.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:u("Cancel Subscription Plan")}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(null==w?void 0:w.length)>1?(0,a.jsx)(a.Fragment,{children:u("By canceling your plan, you will lose access to user seats. Please Confirm.")}):(0,a.jsx)("span",{children:u("Are you sure you want to cancel your plan?")})})})]})]}),(null==w?void 0:w.length)>1&&(0,a.jsx)("div",{className:"py-5",children:(0,a.jsx)(eM,{members:w})}),(0,a.jsxs)("div",{className:"w-full sm:ml-auto sm:w-1/2 mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[(0,a.jsx)(y.Z,{className:"w-full sm:ml-3",onClick:P,isLoading:h,children:u("Yes")}),(0,a.jsx)(E.I,{className:"w-full mt-3 sm:mt-0",onClick:function(){return Z(!1)},children:u("Cancel")})]}),(0,a.jsx)(eo.Z,{isShowing:b})]})})]})})})},eG=function(e){var t,n;return{isOpenModal:null===(t=e.modals)||void 0===t?void 0:t.isOpenConfirmCancelPlanModal,subscription:null===(n=e.user)||void 0===n?void 0:n.subscription}},eX=(0,C.$j)(eG)(eH),eJ=function(e){var t,n,i=e.selectedPlan,l=e.currentSubscription,o=e.userSeats,u=void 0===o?0:o,d=e.engine,h=(0,N.useRef)(!1),v=(0,_.useRouter)(),b=v.query.teamId,g=(0,C.I0)(),j=(0,f.NT)(),w=(0,N.useState)(!1),F=w[0],T=w[1],Z=(0,N.useState)(!1),P=Z[0],M=Z[1],L=(0,N.useState)(!1),q=L[0],R=L[1],D=function(e){g((0,W.vn)(e))},A=(0,N.useState)([]),z=A[0],U=A[1],O=(0,N.useState)([]),$=O[0],V=O[1],Y=(0,N.useCallback)((0,s.Z)(function(){var e,t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),M(!0),[4,(0,eF.r8)({team_id:b})];case 1:return U(e.sent()),[3,4];case 2:throw e.sent();case 3:return h.current&&M(!1),[7];case 4:return[2]}})}),[b]);(0,N.useEffect)(function(){return h.current=!0,function(){h.current=!1}},[]),(0,N.useEffect)(function(){i&&((null==i?void 0:i.user_seats)>=0&&u<0&&(null==i?void 0:i.user_seats)>0||u>0&&u>(null==i?void 0:i.user_seats)?Y():U([]))},[null==i?void 0:i.user_seats,Y,u,i]),(0,N.useEffect)(function(){var e,t=null!==(e=null==i?void 0:i.user_seats)&&void 0!==e?e:0;R(t>=0&&t<0&&t>0&&z.length>t)},[z.length,null==i?void 0:i.user_seats,u]);var H=(n=(0,s.Z)(function(){var e,t,n,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:t=null!==(e=null==i?void 0:i.user_seats)&&void 0!==e?e:0,r.label=1;case 1:if(r.trys.push([1,12,13,14]),T(!0),q&&$.length<z.length-t)return g((0,k.sc)({status:k.Ez.failed,message:"By downgrading your plan, you will loose access to some user seats. Please select at least ".concat(z.length-t-$.length," member(s) that you would like to remove.")})),T(!1),[2];if(!(null==l?void 0:l.stripe_subscription_id))return[3,3];return n=null==l?void 0:l.cancel_at_period_end,[4,g((0,I.Mg)({stripePriceId:null==i?void 0:i.stripe_price_id,stripeSubscriptionId:null==l?void 0:l.stripe_subscription_id,teamId:b,removeMembers:$,engineId:null==d?void 0:d.id}))];case 2:return r.sent(),g((0,I.ZZ)(b)),g((0,I.iP)(b)),n&&v.reload(),[3,6];case 3:if(!(null==l?void 0:l.paypal_subscription_id))return[3,5];return[4,(0,c.eF)({paypalSubscriptionId:null==l?void 0:l.paypal_subscription_id,paypalPlanId:null==i?void 0:i.paypal_plan_id,removeMembers:$,teamId:b,engineId:null==d?void 0:d.id})];case 4:return r.sent(),[3,6];case 5:throw Error(void 0);case 6:g((0,k.sc)({status:k.Ez.success,message:j("Your plan has been changed successfully.")})),g((0,W.vn)(void 0)),r.label=7;case 7:return r.trys.push([7,10,,11]),[4,(0,eT.C)({team_id:b})];case 8:return g.apply(void 0,[k.DG.apply(void 0,[r.sent()])]),[4,(0,x.Ai)({teamId:b})];case 9:return g.apply(void 0,[I.av.apply(void 0,[r.sent()])]),[3,11];case 10:return r.sent(),[3,11];case 11:return[3,14];case 12:return s=r.sent(),g((0,k.sc)({status:k.Ez.failed,message:null!==(a=(0,S.Z)(s))&&void 0!==a?a:"An error occurred while updating your plan"})),g((0,W.vn)(void 0)),[3,14];case 13:return h.current&&T(!1),[7];case 14:return[2]}})}),function(){return n.apply(this,arguments)});return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(m.u.Root,{show:!!i,as:N.Fragment,children:(0,a.jsx)(p.V,{as:"div",static:!0,className:"fixed z-90 inset-0 overflow-y-auto",open:!!i,onClose:function(){},onClick:function(e){return e.stopPropagation()},children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)("div",{className:"relative inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,a.jsx)(B.Z,{className:"h-6 w-6 text-blue-700","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,a.jsx)(p.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:j("Change Subscription Plan")}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:q?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"By downgrading your plan, you will loose access to some user seats. Please select at least ".concat(z.length-(null!==(t=null==i?void 0:i.user_seats)&&void 0!==t?t:0)," member(s) that you would like to remove. ")}),(0,a.jsx)("span",{children:j("If you don&#39;t have the required permissions, please ask your account owner.")})]}):"Are you sure you want to change your selected plan?"})})]})]}),q&&(0,a.jsx)("div",{className:"py-5",children:(0,a.jsx)(eM,{members:z,onChangeCandidates:V})}),(0,a.jsxs)("div",{className:"w-full sm:ml-auto mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[(0,a.jsx)(y.Z,{className:"w-full sm:ml-3",onClick:H,isLoading:F,children:j(q?"Remove These Members":"Yes")}),(0,a.jsx)(E.I,{className:"w-full mt-3 sm:mt-0",onClick:function(){return D(void 0)},children:j("Cancel")})]}),(0,a.jsx)(eo.Z,{isShowing:P})]})})]})})})})},eQ=function(e){var t,n,s,i,l;return{selectedPlan:null===(t=e.modals)||void 0===t?void 0:t.selectedConfirmChangePlan,currentSubscription:null===(n=e.user)||void 0===n?void 0:n.subscription,userSeats:null==e?void 0:null===(s=e.user)||void 0===s?void 0:null===(i=s.subscription)||void 0===i?void 0:null===(l=i.subscription_plan)||void 0===l?void 0:l.user_seats}},eK=(0,C.$j)(eQ)(eJ),e0=n(828),e1=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,N.useState)(e),n=t[0],s=t[1],i=(0,N.useCallback)(function(){s(!0)},[]),l=(0,N.useCallback)(function(){return s(!1)},[]);return[n,i,l]},e2=n(14924),e4=n(5506),e3=n(75021),e5=function(e){var t=e.paypalPlanId,n=e.setIsSubscribing,i=(e.setIsInitializingPaypalButton,e.engine),l=(0,_.useRouter)(),o=(0,C.I0)();l.query.teamId;var u=(0,N.useRef)(!1),d=(0,N.useState)(!1),m=d[0],p=d[1];(0,N.useEffect)(function(){return u.current=!0,function(){u.current=!1}},[]);var h,f=(h=(0,s.Z)(function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return p(!0),[4,(0,c.Vo)(t,null==i?void 0:i.id).then(function(e){var t;"success"==e.status&&(window.location.href=e.url)}).catch(function(e){o((0,k.sc)({status:k.Ez.failed,message:(0,S.Z)(e)}))}).finally(function(){u.current&&(p(!1),n(!1))})];case 1:return e.sent(),[2]}})}),function(){return h.apply(this,arguments)});return(0,a.jsx)(y.Z,{className:"mobile:w-full h-12 w-46 rounded-xl",onClick:f,isLoading:m,children:"Continue"})},e6={src:"/_next/static/media/radio-checked.3f31c9a4.svg",height:24,width:24},e9={src:"/_next/static/media/radio-empty-check.39d8b01a.svg",height:20,width:20},e7={src:"/_next/static/media/radio-no-checked.a5d91fff.svg",height:24,width:24},e8=n(83454),te=[{id:1,key:"master",name:"Debit/Credit Card",active:!1,icons:[{id:1,icon:{src:"/_next/static/media/visaCard.d3b9ebce.svg",height:9,width:25}},{id:2,icon:{src:"/_next/static/media/masterCard.21068ecf.svg",height:14,width:23}},]},{id:2,key:"paypal",name:"PayPal",active:!1,icons:[{id:1,icon:{src:"/_next/static/media/paypal.098453da.svg",height:16,width:23}}]},],tt=function(e){var t=e.isOpen,n=e.closeModal,o=(e.onSuccess,e.plan),u=e.engine,d=e.userId,x=(0,_.useRouter)(),v=x.query,b=x.asPath,g=v.teamId,j=(0,N.useState)({master:!1,paypal:!1}),k=j[0],I=j[1],S=(0,N.useState)(te[0]),E=S[0],F=S[1],T=(0,N.useState)({value:"",appliedCode:""}),P=T[0],M=T[1],L=(0,N.useState)(!1),q=L[0],R=L[1],D=(0,N.useState)(!1),A=D[0],z=D[1],U=(0,N.useState)(""),B=U[0],W=U[1],O=(0,N.useState)(0),$=O[0],V=O[1],Y=(0,N.useRef)(!1),H=(0,f.NT)(),G=(0,N.useState)(!1),X=G[0],J=G[1],Q=(0,N.useState)(!1),K=Q[0],ee=Q[1],et=(0,N.useState)(!1),en=(et[0],et[1]),es=(0,N.useState)(!1),ei=(es[0],es[1]),el=(0,C.I0)();(0,N.useEffect)(function(){return Y.current=!0,function(){Y.current=!1}},[]);var er=function(){R(!0),z(!1)},ea=function(){R(!1),z(!0)},eo=function(){M({value:"",appliedCode:""}),R(!1),z(!1),n()},ec=function(e){var t;M({value:e.target.value,appliedCode:P.appliedCode.length>0?e.target.value:P.appliedCode}),W("")},ed=function(){M(function(e){return(0,l.Z)((0,i.Z)({},e),{appliedCode:e.value})})};(0,N.useEffect)(function(){(null==P?void 0:P.appliedCode)&&(ee(!0),(0,c.hD)(null==P?void 0:P.appliedCode).then(function(e){e.metadata&&Y.current&&V(e.metadata.percent_off)}).catch(function(e){W("Please enter a valid promo code."),V(0)}).finally(function(){Y.current&&ee(!1)}))},[el,null==P?void 0:P.appliedCode]);var em,ep=function(){M({value:"",appliedCode:""})},eh=(em=(0,s.Z)(function(){var e,t,n,s,i;return(0,r.__generator)(this,function(l){switch(l.label){case 0:e=window,l.label=1;case 1:return l.trys.push([1,3,4,5]),J(!0),[4,(0,c.k)({plan_id:o.id,coupon:P.appliedCode,referral:null!==(n=null===(t=e.Rewardful)||void 0===t?void 0:t.referral)&&void 0!==n?n:"",team_id:g,engine_id:null==u?void 0:u.id,success_pathname:"/payment-processing/subscription",cancel_pathname:b})];case 2:return s=l.sent(),eu.YA("userId",d),eu.uT('Checkout URL: "'.concat(s,'"')),e.location.href=s,[3,5];case 3:return i=l.sent(),eu.YA("userId",d),eu.Tb(i),[3,5];case 4:return Y.current&&J(!1),[7];case 5:return[2]}})}),function(){return em.apply(this,arguments)}),ef=0===P.appliedCode.length,ex=0===P.value.length,ev=P.value.length>0?" text-purple-1 ":" text-gray-2 ",eb=q?0===P.appliedCode.length?" border-purple-1":" border-orange-1":"",eg=A&&P.appliedCode.length>0?" border-green-1 ":"";return(0,a.jsx)(m.u,{appear:!0,show:t,as:N.Fragment,children:(0,a.jsxs)(p.V,{as:"div",className:"relative z-50 font-satoshi",onClose:eo,children:[(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,a.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,a.jsx)(m.u.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,a.jsxs)(p.V.Panel,{className:"desktop:max-w-880 desktop:ml-56 tablet:max-w-700 smallTablet:max-w-700 transform rounded-2xl bg-white text-left align-middle shadow-xl transition-all desktop:absolute tablet:absolute smallTablet:absolute",children:[(0,a.jsxs)("div",{className:"flex justify-between px-6 pt-8 pb-4",children:[(0,a.jsx)(p.V.Title,{as:"h3",className:"text-2xl font-bold leading-6 text-gray-900",children:H("Payment Method")}),(0,a.jsx)("div",{onClick:n,className:"rounded-7.5 cursor-pointer",children:(0,a.jsx)(e4.Z,{className:"rounded-7.5 w-6 h-6 text-gray-500 hover:text-purple-v2-1 active:text-navy-1"})})]}),(0,a.jsxs)("div",{className:"w-full rounded-3xl flex justify-between mobile:flex-col px-6 py-4",children:[(0,a.jsx)(h.E,{value:E,onChange:F,className:"pr-6 mobile:pr-0",children:(0,a.jsx)("div",{className:"space-y-4 w-650 mobile:w-full tablet:w-400 smallTablet:w-400",children:te.map(function(e){var t="master"===e.key&&!o.stripe_price_id||"paypal"===e.key&&!o.paypal_plan_id;return(0,a.jsx)(h.E.Option,{disabled:t,onMouseEnter:function(){return I(function(t){return(0,l.Z)((0,i.Z)({},t),(0,e2.Z)({},e.key,!0))})},onMouseLeave:function(){return I(function(t){return(0,l.Z)((0,i.Z)({},t),(0,e2.Z)({},e.key,!1))})},value:e,className:function(e){var n=e.active,s=e.checked;return"".concat(t?"bg-gray-200 opacity-50":"border-purple-800 bg-purple-3 cursor-pointer"," h-14 flex rounded-xl px-4 py-4 border pl-4.4 pr-4.4\n                              ").concat(s||n?"shadow-purchaseModal border-2 pl-4 pr-4":t?"":"hover:border hover:border-transparent")},children:function(t){t.active;var n=t.checked;return(0,a.jsxs)("div",{className:"flex w-full items-center",children:[(0,a.jsxs)("div",{className:"flex w-full items-center",children:[(0,a.jsxs)("div",{className:"mr-2.5 flex w-4.5 h-4.5",children:[" ",(0,a.jsx)(w(),{src:n?e6:k[e.key]?e7:e9,alt:"checkbox"})," "]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(h.E.Label,{as:"p",className:"font-medium text-gray-900",children:H(e.name)})})]}),(0,a.jsx)("div",{className:"flex",children:e.icons.map(function(e){var t=e.icon,n=e.id;return(0,a.jsxs)("div",{className:"mr-2 flex w-8.5 h-6",children:[" ",(0,a.jsx)(w(),{width:"35",height:"24",src:t,alt:"checkbox"})," "]},n)})})]})}},e.name)})})}),(0,a.jsxs)("div",{className:"min-w-59 mobile:mt-6",children:[(0,a.jsx)("div",{className:(0,Z.Z)("h-10 mobile:h-12 flex justify-between rounded-lg",eb,eg),children:(0,a.jsxs)("div",{className:(0,Z.Z)("w-full flex justify-between items-center outline outline-1 outline-gray-3 rounded-lg","paypal"===E.key?"opacity-30":"","paypal"!==E.key?P.appliedCode.length>0?"hover:outline-orange-1 ":"hover:outline-purple-1":""),children:[(0,a.jsx)("input",{value:P.value,onChange:ec,className:"h-10 mobile:h-12 w-80p appearance-none bg-transparent text-sm font-medium text-gray-900 focus:outline-none px-2",type:"text",placeholder:"Promo Code","aria-label":"Promo Code",onFocus:er,onBlur:ea,disabled:"paypal"===E.key}),(0,a.jsxs)("button",{onClick:ef?ed:ep,className:(0,Z.Z)("rounded-r-md h-10 mobile:h-12 flex-shrink-0 text-sm font-bold text-right px-3 bg-gray-4 rounded-tr-lg rounded-br-lg relative flex justify-center items-center",ex?" text-gray-2 ":" text-gray-700 ",ev),type:"button",disabled:ex,children:[(0,a.jsx)("span",{className:(0,Z.Z)(K?"invisible":"visible"),children:H(ef?"Apply":"Clear")}),(0,a.jsx)("div",{className:(0,Z.Z)(K?"block absolute":"hidden"),children:(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 text-gray-50 pointer-events-none",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"#705cf6",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"#705cf6",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})]})}),B&&(0,a.jsx)("p",{className:"p-1 text-sm text-red-600",children:B}),(0,a.jsxs)("div",{className:"mt-1.5 p-3 bg-gray-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:H("Subtotal")}),(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-600",children:["$",o.price/100]})]}),!!$&&(0,a.jsxs)("div",{className:"flex justify-between mt-0.5 text-green-600",children:[(0,a.jsxs)("p",{className:"text-sm font-medium",children:[H("Discount")," (",$," % Off)"]}),(0,a.jsxs)("p",{className:"text-sm font-medium",children:["- $",Math.round($*o.price/100)/100]})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-gray-900",children:H("Amount Due")}),(0,a.jsxs)("p",{className:"text-sm font-bold text-gray-900",children:["$",Math.round(o.price-$/100*o.price)/100]})]})]})]})]}),"paypal"!==E.key?(0,a.jsxs)("div",{className:"flex justify-between items-center mobile:flex-col-reverse px-6 pt-4 pb-6",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-400 mobile:mt-4 mobile:flex mobile:text-center",children:H("You can only apply the promo code using the debit/credit card.")}),(0,a.jsx)(y.Z,{className:"mobile:w-full h-12 w-46 rounded-xl",onClick:eh,disabled:!E,isLoading:X,children:H("Continue")})]}):(0,a.jsx)("div",{className:"flex justify-end items-center mobile:flex-col-reverse px-6 pt-4 pb-6",children:(0,a.jsx)(e3.Vv,{options:{"client-id":e8.env.NEXT_PUBLIC_PAYPAL_CLIENT_ID,components:"buttons",intent:"subscription",vault:!0},children:(0,a.jsx)(e5,{paypalPlanId:o.paypal_plan_id,setIsSubscribing:en,setIsInitializingPaypalButton:ei,engine:u})})})]})})})})]})})},tn=function(e){var t;return{userId:null===(t=e.user)||void 0===t?void 0:t.id}},ts=(0,C.$j)(tn)(tt),ti=function(e){var t,n,s,i,l=e.plan,r=e.product,o=e.children,u=e.currentSubscription,d=e.stripeCustomerId,m=e.currentEngine,p=e.isLifeTimeDealUser,h=(0,C.I0)(),x=(0,_.useRouter)(),v=x.query.teamId,b=(0,f.NT)(),g=(0,e0.Z)(e1(!1),3),j=g[0],N=g[1],k=g[2],I=l.id,S=l.price,F=l.interval,T=l.credits,P=l.words,M=l.user_seats,L=l.benefits,q=(l.message,l.stripe_price_id),R=l.paypal_plan_id,D=function(){h((0,W.vn)(l))},A=function(e){return(null==e?void 0:e.paypal_subscription_id)&&(null==e?void 0:e.cancel_date)&&(null==e?void 0:e.cancel_at_period_end)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"h-auto sm:h-62.15 flex flex-col",children:[(0,a.jsx)("div",{className:"h-40 px-4 mobile:h-33.3",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-4xl font-bold text-gray-900",children:["$",Math.round(S/(F===c.Xp.annual?12:1))/100]}),(0,a.jsx)("p",{className:"text-xs font-normal text-gray-500 mt-1",children:b(q&&R&&(F===c.Xp.monthly||F===c.Xp.annual)?"/month":"For new users")}),o,!q&&!R&&(0,a.jsx)("div",{className:"m-auto text-center desktop:mt-6 tablet:mt-6 smallTablet:mt-6 mobile:mt-4 py-2 px-3 bg-gray-4 rounded-xl mobile:px-12",children:(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:b("Try out all features to determine what works best for you")})})]})}),(0,a.jsxs)("div",{className:"flex justify-center text-center items-center mt-10 sm:mt-0",children:[(0,a.jsx)("p",{className:"text-xs text-gray-900 font-bold",children:T?"".concat(T," ").concat(b("credits")):"".concat(null==P?void 0:P.toLocaleString("en-US")," ").concat(b("words"))}),(0,a.jsx)(ee,{className:"bg-gray-1"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 font-medium",children:[M," ",b("user(s)")]})]}),(null==u?void 0:null===(n=u.stripe_subscription_id)||void 0===n?void 0:n.includes(td))||v?null:(0,a.jsxs)("div",{className:"mobile:w-full flex justify-center mt-auto mobile:mt-6 mobile:px-6",children:[(!u||A(u))&&(q||R)&&(0,a.jsx)(y.Z,{className:"text-base mobile:w-full h-12 w-42.5 rounded-xl hover:bg-purple-2 active:bg-navy-1",onClick:N,children:b("Upgrade")}),(u&&!A(u)&&(null==u?void 0:null===(s=u.subscription_plan)||void 0===s?void 0:s.id)===I&&q&&R||!u&&!q&&!R)&&(0,a.jsx)("div",{className:"bg-gray-1 text-black-3 text-sm font-bold rounded-xb-large px-4 py-2 flex justify-center items-center mobile:w-full h-12 w-42.5",children:p?b("Upgrade"):b("Current plan")}),u&&!A(u)&&(null==u?void 0:null===(i=u.subscription_plan)||void 0===i?void 0:i.id)!==I&&q&&R&&(0,a.jsx)(y.Z,{className:"text-base mobile:w-full h-12 w-42.5 rounded-xl hover:bg-purple-2 active:bg-navy-1",onClick:D,children:b("Change plan")}),u&&!q&&!R&&(0,a.jsx)(E.I,{className:(0,Z.Z)("text-base mobile:w-full h-12 w-42.5 rounded-xl border border-solid border-cyan-2 bg-white hover:bg-purple-3 active:bg-purple-4 disabled:text-cyan-3 disabled:hover:bg-transparent"),onClick:function(){return ew({subscription:u,stripeCustomerId:d,teamId:x.query.teamId,dispatch:h})},disabled:!!(null==u?void 0:u.pause_collection)||(null==u?void 0:u.cancel_at_period_end),children:b("Unsubscribe")})]})]}),(0,a.jsx)("div",{className:"px-6 col-span-4 py-8 desktop:pb-0 tablet:pb-0 smallTablet:pb-0 mobile:pt-0 mobile:pb-4 mt-8 mobile:border-none border-t-px border-gray-1",children:(0,a.jsx)("div",{className:"items-center flex-wrap",children:null===(t=(null==L?void 0:L.length)?L:null==r?void 0:r.benefits)||void 0===t?void 0:t.map(function(e,t){var n=e.is_checked,s=e.text;return(0,a.jsxs)("div",{className:"mb-6 last:mb-0 flex items-start",children:[!0===n&&(0,a.jsx)("div",{className:"w-5 h-5 mr-2",children:(0,a.jsx)(w(),{src:ei,alt:"Checked",layout:"fixed",width:20,height:20})}),!1===n&&(0,a.jsx)("div",{className:"w-5 h-5 mr-2",children:(0,a.jsx)(w(),{src:eS,alt:"Checked",layout:"fixed",width:20,height:20})}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",dangerouslySetInnerHTML:{__html:b(s)}})]},t)})})}),(0,a.jsx)(ts,{plan:l,isOpen:j,closeModal:k,engine:m})]})},tl=function(e){var t,n;return{stripeCustomerId:null===(t=e.user)||void 0===t?void 0:t.stripe_customer_id,isLifeTimeDealUser:null===(n=e.user)||void 0===n?void 0:n.is_lifetime_deal_user}},tr=(0,C.$j)(tl)(ti),ta=function(e){var t,n=e.plans,s=e.product,i=e.currentSubscription,l=e.currentEngine,r=(0,N.useRef)(!1),o=(0,N.useState)(1),c=o[0],u=o[1];return((0,N.useEffect)(function(){var e;!r.current&&(null==i?void 0:null===(e=i.subscription_plan)||void 0===e?void 0:e.id)&&(null==n?void 0:n.length)&&(n.forEach(function(e,t){var n;if((null==e?void 0:e.id)===(null==i?void 0:null===(n=i.subscription_plan)||void 0===n?void 0:n.id)){u(t);return}}),r.current=!0)},[null==i?void 0:null===(t=i.subscription_plan)||void 0===t?void 0:t.id,n]),(null==n?void 0:n.length)<c)?null:(0,a.jsx)(tr,{plan:n[c],product:s,currentSubscription:i,currentEngine:l,children:(0,a.jsx)("div",{className:"m-auto text-center desktop:mt-2 tablet:mt-2 smallTablet:mt-2 mobile:mt-4 py-2 px-3",children:(0,a.jsx)(ez,{plans:n,selectedIndex:c,setSelectedIndex:u})})})},to=function(e){var t,n=e.subscription,s=e.engines,i=e.products,l=e.currentEngine,r=e.setCurrentEngine,o=function(e,t){var n=e.id,s=e.title,i=e.subtitle,l=e.description;return(0,a.jsxs)("div",{className:"flex-1 px-6 h-auto sm:h-60 lg:h-40",children:[(0,a.jsx)("div",{className:"text-center text-2xl font-bold text-gray-900 mb-3",children:s&&d(s)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-center text-base font-bold text-gray-600 mb-1",children:i&&d(i)}),(0,a.jsx)("p",{className:"text-center text-sm text-gray-500",children:l&&d(l)})]})]},n)};(0,C.I0)();var u=(0,N.useRef)(!1),d=(0,f.NT)(),m=(0,N.useState)((null==n?void 0:null===(t=n.subscription_plan)||void 0===t?void 0:t.interval)===c.Xp.monthly),p=m[0],h=m[1],x=es("(max-width: 599px)"),v=(0,N.useState)({}),b=v[0],g=v[1];(0,N.useEffect)(function(){return u.current=!0,function(){u.current=!1}},[]),(0,N.useEffect)(function(){x?g({chooseQuality:{order:1},qualityFilter:{order:2},freeTrial:{order:3},shortForm:{order:6},longForm:{order:9},freeTrialCapabilities:{order:5},shortFormCapabilities:{order:8},longFormCapabilities:{order:11}}):g({chooseQuality:{},qualityFilter:{},freeTrial:{},shortForm:{},longForm:{},freeTrialCapabilities:{},shortFormCapabilities:{},longFormCapabilities:{}})},[x]);var y=function(e){h(!e)},j=(0,ek.Z)(null!=s?s:[]).sort(function(e,t){return t.order-e.order}),w=(0,N.useMemo)(function(){var e,t,n,s,r=null!==(s=null===(n=null===(e=null==i?void 0:i.find(function(e){return e.interval===(p?c.Xp.monthly:c.Xp.annual)}))||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.find(function(e){return e.engine_id===(null==l?void 0:l.id)}))||void 0===n?void 0:n.subscription_products)&&void 0!==s?s:[];return(null==r?void 0:r.find(function(e){return e.id===tm}))||r.push({id:tm,benefits:[{is_checked:!0,text:"Custom number of words"},{is_checked:!0,text:"Custom number of users"},{is_checked:!0,text:"Custom AI development"},{is_checked:!0,text:"Invoicing options"},{is_checked:!0,text:"Dedicated account manager"},{is_checked:!0,text:"Training sessions"},{is_checked:!0,text:"Premium support"},],color:"",title:"Custom Plan",subtitle:"For teams and businesses",description:"Take your business to the next level with custom packages, custom AI model development, onboarding, and support.",plans:[]}),r},[null==l?void 0:l.id,p,i]);return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"rounded-2xl bg-gray-4 w-full px-6 py-5 mobile:px-2 mobile:p-2.5 mobile:my-0 mb-9 mobile:sticky mobile:-top-8 z-10",children:(0,a.jsxs)("div",{className:"w-full mobile:block flex items-center justify-between",children:[(0,a.jsx)("div",{style:b.chooseQuality,className:"flex-1 flex items-center justify-start mobile:justify-center mobile:col-span-4 smallTablet:col-span-3 tablet:col-span-3 desktop:col-span-3",children:(0,a.jsx)("p",{className:"text-base font-bold text-gray-900",children:d("Choose quality")})}),(0,a.jsx)("div",{style:b.qualityFilter,className:"mobile:border-none mobile:rounded-none border rounded-full border-gray-1 items-center text-xs flex overflow-auto col-span-6 w-fit p-0.5 mobile:mx-auto",children:null==j?void 0:j.map(function(e){var t=e.id,n=e.name;return e.is_visible?(0,a.jsx)("button",{className:"text-xs mr-0.6 last:mr-0.6 capitalize ".concat("text-xs flex items-center font-bold p-2 sm:px-3 rounded-3xl whitespace-nowrap h-7.5"," ").concat((null==l?void 0:l.id)===t?"text-white bg-purple-1":"text-gray-500 hover:text-gray-700"),onClick:function(){return r(e)},children:d(n)},t):null})}),(0,a.jsx)("div",{className:"flex-1 flex items-center mobile:fixed mobile:bottom-6 mobile:left-0 mobile:right-0 mobile:m-auto mobile:z-10 mobile:bg-white w-fit mobile:rounded-7.5 mobile:px-4 mobile:py-3 mobile:shadow-dashBoardCard justify-end mobile:justify-between",children:(0,a.jsx)("div",{children:(0,a.jsx)(eI.Z,{enabled:!p,setEnabled:y})})})]})}),(0,a.jsx)("div",{className:"flex justify-between mobile:block space-y-5 sm:space-y-0 mt-4 sm:mt-0",children:null==w?void 0:w.map(function(e,t){var s=e.id,i=e.title,r=e.plans;return(0,a.jsx)("div",{className:(0,Z.Z)("w-full p-0.5 rounded-5xl shadow-unsubscribeSection sm:shadow-none",i===tp?"bg-recommended-plan":""),children:(0,a.jsxs)("div",{className:"w-full h-full flex flex-col mobile:py-2 bg-white rounded-4xl",children:[(0,a.jsx)("div",{className:"py-6",children:o(e,t)}),!(null==r?void 0:r.length)&&(0,a.jsx)(eB,{product:e,subscription:n}),(null==r?void 0:r.length)===1&&(0,a.jsx)(tr,{plan:r[0],currentSubscription:n,product:e,currentEngine:l}),(null==r?void 0:r.length)>1&&(0,a.jsx)(ta,{plans:r,currentSubscription:n,product:e,currentEngine:l})]})},s)})}),(0,a.jsx)(eK,{engine:l}),(0,a.jsx)(eX,{})]})},tc=function(e){var t,n;return{subscription:null===(t=e.user)||void 0===t?void 0:t.subscription,engines:null==e?void 0:null===(n=e.options)||void 0===n?void 0:n.engines}},tu=(0,C.$j)(tc)(to),td="ANNUAL-ONE-TIME",tm="custom_plan_price_id",tp="Long-form",th=["Short-form"],tf=function(e){var t,n,m,p,h,f,x,v,b=e.subscription,g=e.engines,y=e.stripe_customer_id,j=e.chargebee_customer_id,w=e.products,k=e.payment_completed_successfully,I=e.has_chargebee_access,S=e.plan_name,E=e.plan_amount,M=e.isLifeTimeDealUser,L=(0,_.useRouter)(),q=(0,C.I0)(),D=L.query,A=D.teamId,B=D.paypalredirect,W=D.paypalsubscriptionrevise,O=D.subscription_id,$=D.engine_id,V=(0,N.useState)(!1),Y=V[0],H=V[1],J=(0,N.useState)(),Q=J[0],K=J[1],ee=(0,N.useState)(!1),et=ee[0],en=ee[1],es=(0,N.useState)(),ei=es[0],el=es[1],er=(0,N.useRef)(!1),ea=(0,N.useMemo)(function(){return null==w?void 0:w.map(function(e){return(0,l.Z)((0,i.Z)({},e),{data:e.data.map(function(e){var t;return(0,l.Z)((0,i.Z)({},e),{subscription_products:null===(t=e.subscription_products)||void 0===t?void 0:t.filter(function(e){var t=e.title;return!(null==th?void 0:th.find(function(e){return e===t}))})})})})})},[w]);(0,N.useEffect)(function(){function e(){return(e=(0,s.Z)(function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,u.Xy)()];case 1:return q.apply(void 0,[T.vi.apply(void 0,[t.sent()])]),[3,3];case 2:return e=t.sent(),console.error(e),[3,3];case 3:return[2]}})})).apply(this,arguments)}g||function(){e.apply(this,arguments)}()},[q,g]),(0,N.useEffect)(function(){if(null==window?void 0:window.Chargebee){var e=window.Chargebee.init({site:"writesonic",isItemsModel:!0});e.setPortalSession((0,s.Z)(function(){var e;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,o.zv)()];case 1:return[2,e.sent().data.portal_session]}})})),el(e.createChargebeePortal())}},[]),(0,N.useEffect)(function(){return er.current=!0,function(){er.current=!1}},[]),(0,N.useEffect)(function(){en(k),k&&S&&E&&window.dataLayer.push({event:"subscription plan purchased",plan_name:S,plan_amount:E})},[k,S,E]),(0,N.useEffect)(function(){K(null==g?void 0:g.find(function(e){return"premium"===e.name}))},[g]),(0,N.useEffect)(function(){if(B){H(!0);var e=String(O);e&&(0,c.gv)({teamId:A,subscriptionID:e,engineId:$}).then(function(e){}).catch(function(e){}).finally(function(){er.current&&(H(!1),window.location.href=location.origin+"/settings/billing")})}if(W){var e=String(O);H(!0),(0,c.sk)({subscriptionID:e,engine_id:$}).then(function(e){}).catch(function(e){}).finally(function(){er.current&&(H(!1),window.location.href=location.origin+"/settings/billing")})}},[q,$,B,W,O,A,]);var eo=b?"mobile:mt-6 mobile:mb-4 smallTablet:mt-8 smallTablet:mb-6 tablet:mt-8 tablet:mb-6 desktop:mt-8 desktop:mb-6":"mobile:mt-8 mobile:mb-4 smallTablet:mt-8 smallTablet:mb-6 tablet:mt-10 tablet:mb-6 desktop:mt-10 desktop:mb-6",ec=b?"mobile:pb-2":"mobile:pt-8";return Y?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("h1",{children:"Payment Processing..."})}):(0,a.jsxs)("div",{className:"max-w-4xl tablet:max-w-full mx-auto",children:[(!b||!(null==b?void 0:b.is_active))&&!M&&(0,a.jsx)(d.Y,{}),I?(0,a.jsxs)(a.Fragment,{children:[j&&(null==b?void 0:b.id)&&(null==b?void 0:b.chargebee_subscription_id)?(0,a.jsx)("div",{className:"w-full flex justify-center mobile:mt-8",children:(0,a.jsx)(ej,{currentEngine:Q,allProducts:null!=ea?ea:[]})}):M&&(0,a.jsx)("div",{className:"w-full flex justify-center mobile:mt-8",children:(0,a.jsx)(eC,{currentEngine:Q,products:null!=ea?ea:[]})}),(0,a.jsx)("div",{className:"flex text-center border-b border-gray-50 smd:border-0 ".concat(eo),children:(0,a.jsx)(eV,{})}),Q&&(0,a.jsx)("div",{className:(0,Z.Z)("w-full flex justify-center bg-white rounded-2xl p-6 shadow-none sm:shadow-unsubscribeSection",ec),children:(0,a.jsx)(e$,{products:null!=ea?ea:[],currentEngine:Q,setCurrentEngine:K})}),(0,a.jsx)("div",{className:"mt-8 w-full flex justify-center bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-[#23415C] via-[#142132] to-[#101827] rounded-2xl px-6 pt-8 pb-8 shadow-unsubscribeSection",children:(0,a.jsx)(P,{})}),j&&!A&&(null==b?void 0:null===(t=b.default_card)||void 0===t?void 0:t.brand)&&(null==b?void 0:null===(n=b.default_card)||void 0===n?void 0:n.last4)&&(0,a.jsx)("div",{className:"mt-8 w-full flex justify-center bg-white rounded-[16px] px-6 pt-6 pb-6 shadow-unsubscribeSection",children:(0,a.jsx)(z,{cbPortalInstance:ei,teamId:A})}),j&&(0,a.jsx)("div",{className:"mt-8 mobile:mb-16 w-full flex justify-center bg-white rounded-[16px] px-6 pt-6 pb-6 shadow-unsubscribeSection",children:(0,a.jsx)(U,{cbPortalInstance:ei,teamId:A,showPaymentSource:!j||null==b||null===(m=b.default_card)||void 0===m||!m.brand||null==b||null===(p=b.default_card)||void 0===p||!p.last4||!!j&&!b})})]}):(0,a.jsxs)(a.Fragment,{children:[((null==b?void 0:b.id)&&Q||M)&&(0,a.jsx)("div",{className:"w-full flex justify-center mobile:mt-8",children:(0,a.jsx)(eC,{currentEngine:Q,products:null!=ea?ea:[]})}),(0,a.jsx)("div",{className:"flex text-center border-b border-gray-50 smd:border-0 ".concat(eo),children:(0,a.jsx)(eV,{})}),Q&&(0,a.jsx)("div",{className:(0,Z.Z)("w-full flex justify-center bg-white rounded-2xl p-6 shadow-unsubscribeSection",ec),children:(0,a.jsx)(tu,{products:null!=ea?ea:[],currentEngine:Q,setCurrentEngine:K})}),(0,a.jsx)("div",{className:"mt-8 w-full flex justify-center bg-white rounded-2xl px-6 pt-8 pb-8 shadow-unsubscribeSection",children:(0,a.jsx)(P,{})}),(0,a.jsx)(F,{openModal:et,setOpenModal:en}),!(null==b?void 0:null===(h=b.stripe_subscription_id)||void 0===h?void 0:h.includes(td))&&!A&&(null==b?void 0:null===(f=b.default_card)||void 0===f?void 0:f.brand)&&(null==b?void 0:null===(x=b.default_card)||void 0===x?void 0:x.last4)&&(0,a.jsx)("div",{className:"mt-8 w-full flex justify-center bg-white rounded-2xl px-6 pt-8 pb-8 shadow-unsubscribeSection",children:(0,a.jsx)(G,{})}),!(null==b?void 0:null===(v=b.stripe_subscription_id)||void 0===v?void 0:v.includes(td))&&!A&&!!y&&(null==b?void 0:b.stripe_subscription_id)&&(0,a.jsx)("div",{className:"mt-8 mobile:mb-16 w-full flex justify-center bg-white rounded-2xl px-6 pt-8 pb-8 shadow-unsubscribeSection",children:(0,a.jsx)(X,{})})]}),(0,a.jsx)("div",{className:"mt-8 mobile:mb-16 w-full flex justify-center bg-white rounded-2xl px-6 pt-8 pb-8 shadow-unsubscribeSection",children:(0,a.jsx)(R,{})})]})},tx=function(e){var t,n,s,i,l,r,a,o,c,u,d,m,p;return{subscription:null===(t=e.user)||void 0===t?void 0:t.subscription,engines:null==e?void 0:null===(n=e.options)||void 0===n?void 0:n.engines,stripe_customer_id:null===(s=e.user)||void 0===s?void 0:s.stripe_customer_id,payment_completed_successfully:null==e?void 0:null===(i=e.user)||void 0===i?void 0:i.payment_completed_successfully,chargebee_customer_id:null===(l=e.user)||void 0===l?void 0:l.chargebee_customer_id,has_chargebee_access:null===(r=e.user)||void 0===r?void 0:r.has_chargebee_access,isLifeTimeDealUser:null===(a=e.user)||void 0===a?void 0:a.is_lifetime_deal_user,plan_name:null===(o=e.user)||void 0===o?void 0:null===(c=o.subscription)||void 0===c?void 0:null===(u=c.subscription_plan)||void 0===u?void 0:u.chargebee_price_id,plan_amount:null===(d=e.user)||void 0===d?void 0:null===(m=d.subscription)||void 0===m?void 0:null===(p=m.subscription_plan)||void 0===p?void 0:p.price}},tv=(0,C.$j)(tx)(tf)}}]);